{"bugs":{"789075":{"comments":[{"is_private":false,"attachment_id":null,"creator":"chrislord.net@gmail.com","time":"2012-09-06T15:46:25Z","author":"chrislord.net@gmail.com","bug_id":789075,"tags":[],"text":"Visiting http://people.mozilla.com/~bgirard/cleopatra/?zippedProfile=profiles/sps-profile-1346944481.42.zip&videoCapture=videos/video-1346944481.42.webm in Firefox Nightly in Windows causes the browser to crash, usually, or sometimes become very unresponsive and use lots of memory (possibly the lack of responsiveness is down to paging?)\n\nI've not been able to profile this as I can't get it running reliably enough to do anything with it, hopefully a Windows developer/someone more familiar with Windows can look at this.\n\nWorks fine in Firefox 15 on Linux.","id":6614924,"creation_time":"2012-09-06T15:46:25Z","raw_text":"Visiting http://people.mozilla.com/~bgirard/cleopatra/?zippedProfile=profiles/sps-profile-1346944481.42.zip&videoCapture=videos/video-1346944481.42.webm in Firefox Nightly in Windows causes the browser to crash, usually, or sometimes become very unresponsive and use lots of memory (possibly the lack of responsiveness is down to paging?)\n\nI've not been able to profile this as I can't get it running reliably enough to do anything with it, hopefully a Windows developer/someone more familiar with Windows can look at this.\n\nWorks fine in Firefox 15 on Linux."},{"is_private":false,"attachment_id":null,"creator":"scoobidiver@netcourrier.com","time":"2012-09-06T22:00:50Z","author":"scoobidiver@netcourrier.com","bug_id":789075,"tags":[],"text":"Here is the crash report: bp-429c44b5-4a93-439e-9dd2-c7d452120906.\nFrame \tModule \tSignature \tSource\n0 \txul.dll \tFastConvertYUVToRGB32Row_SSE \tgfx/ycbcr/yuv_row_win.cpp:32\n1 \txul.dll \tmozilla::gfx::ConvertYCbCrToRGB32 \tgfx/ycbcr/yuv_convert.cpp:96\n2 \txul.dll \tmozilla::layers::PlanarYCbCrImage::GetAsSurface \tgfx/layers/ImageContainer.cpp:495\n\nIt's similar to bug 672870 and bug 750190.","id":6616170,"creation_time":"2012-09-06T22:00:50Z","raw_text":"Here is the crash report: bp-429c44b5-4a93-439e-9dd2-c7d452120906.\nFrame \tModule \tSignature \tSource\n0 \txul.dll \tFastConvertYUVToRGB32Row_SSE \tgfx/ycbcr/yuv_row_win.cpp:32\n1 \txul.dll \tmozilla::gfx::ConvertYCbCrToRGB32 \tgfx/ycbcr/yuv_convert.cpp:96\n2 \txul.dll \tmozilla::layers::PlanarYCbCrImage::GetAsSurface \tgfx/layers/ImageContainer.cpp:495\n\nIt's similar to bug 672870 and bug 750190."},{"is_private":false,"attachment_id":null,"creator":"alice0775@yahoo.co.jp","time":"2012-09-07T00:56:17Z","author":"alice0775@yahoo.co.jp","bug_id":789075,"tags":[],"text":"bp-cebbaab8-6bf6-42e0-9e3a-a63372120907  : Firefox15.0.1\nbp-d152db83-b687-426a-89eb-a45c62120907  : Firefox16beta\nbp-fa4ee1ec-38f5-4c86-882d-d45a32120907  : Aurora17.0a2\nbp-4c086efa-376a-4ad4-9a51-68c1a2120907  : Nightly18.0a1\n\nRegression window(m-c)\nGood:\nhttp://hg.mozilla.org/mozilla-central/rev/305cd10b57d2\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120601055003\nCrash:\nhttp://hg.mozilla.org/mozilla-central/rev/12ab69851e05\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120601073103\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=305cd10b57d2&tochange=12ab69851e05\n\n\n\nRegression window(m-i)\nGood:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/202d63933120\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120531112503\nCrash:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/07cec35eee23\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120531202501\nPushlog:\nhttp://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=202d63933120&tochange=07cec35eee23\n\nIn local build:\nLast good: d9ac6a5b9aea\nFirst Bad: 85a3f4b90adc\n\nTriggered by: \n85a3f4b90adc\tAndreas Gal  Bug 714408 Part 2 - Media plugin support for libstagefright - r=doublec","id":6616642,"creation_time":"2012-09-07T00:56:17Z","raw_text":"bp-cebbaab8-6bf6-42e0-9e3a-a63372120907  : Firefox15.0.1\nbp-d152db83-b687-426a-89eb-a45c62120907  : Firefox16beta\nbp-fa4ee1ec-38f5-4c86-882d-d45a32120907  : Aurora17.0a2\nbp-4c086efa-376a-4ad4-9a51-68c1a2120907  : Nightly18.0a1\n\nRegression window(m-c)\nGood:\nhttp://hg.mozilla.org/mozilla-central/rev/305cd10b57d2\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120601055003\nCrash:\nhttp://hg.mozilla.org/mozilla-central/rev/12ab69851e05\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120601073103\nPushlog:\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=305cd10b57d2&tochange=12ab69851e05\n\n\n\nRegression window(m-i)\nGood:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/202d63933120\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120531112503\nCrash:\nhttp://hg.mozilla.org/integration/mozilla-inbound/rev/07cec35eee23\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/15.0 Firefox/15.0a1 ID:20120531202501\nPushlog:\nhttp://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=202d63933120&tochange=07cec35eee23\n\nIn local build:\nLast good: d9ac6a5b9aea\nFirst Bad: 85a3f4b90adc\n\nTriggered by: \n85a3f4b90adc\tAndreas Gal  Bug 714408 Part 2 - Media plugin support for libstagefright - r=doublec"},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-09-07T01:35:25Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"Thanks alice thats a big help!","id":6616765,"creation_time":"2012-09-07T01:35:25Z","raw_text":"Thanks alice thats a big help!"},{"is_private":false,"attachment_id":null,"creator":"xtc4uall@gmail.com","time":"2012-09-07T19:58:32Z","author":"xtc4uall@gmail.com","bug_id":789075,"tags":[],"text":"FWIW, in a provided recent Debug Nightly you get following Assertion at Crashtime:\n\n###!!! ASSERTION: must have binding parent when in native anonymous subtree with a parent node: '!IsInNativeAnonymousSubtree() ||GetBindingParent() || !GetParent()', file e:\\builds\\moz2_slave\\m-cen-w32-dbg\\build\\obj-firefox\\dist\\include\\nsIContent.h, line 230","id":6618914,"creation_time":"2012-09-07T19:58:32Z","raw_text":"FWIW, in a provided recent Debug Nightly you get following Assertion at Crashtime:\n\n###!!! ASSERTION: must have binding parent when in native anonymous subtree with a parent node: '!IsInNativeAnonymousSubtree() ||GetBindingParent() || !GetParent()', file e:\\builds\\moz2_slave\\m-cen-w32-dbg\\build\\obj-firefox\\dist\\include\\nsIContent.h, line 230"},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-09-22T23:22:53Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"Gal this regression was introduced by Bug 714408. Any though on this?","id":6657959,"creation_time":"2012-09-22T23:22:53Z","raw_text":"Gal this regression was introduced by Bug 714408. Any though on this?"},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-09-26T22:57:28Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Chris Lord [:cwiiis] from comment #0)\n> Visiting\n> http://people.mozilla.com/~bgirard/cleopatra/?zippedProfile=profiles/sps-\n> profile-1346944481.42.zip&videoCapture=videos/video-1346944481.42.webm in\n> Firefox Nightly in Windows causes the browser to crash, usually, or\n> sometimes become very unresponsive and use lots of memory (possibly the lack\n> of responsiveness is down to paging?)\n\nChris/Benoit - is this critical for your testing or do you think this may have significant user impact? We tracked this based upon the assumption that this was critical for testing, but want to double check.","id":6670242,"creation_time":"2012-09-26T22:57:28Z","raw_text":"(In reply to Chris Lord [:cwiiis] from comment #0)\n> Visiting\n> http://people.mozilla.com/~bgirard/cleopatra/?zippedProfile=profiles/sps-\n> profile-1346944481.42.zip&videoCapture=videos/video-1346944481.42.webm in\n> Firefox Nightly in Windows causes the browser to crash, usually, or\n> sometimes become very unresponsive and use lots of memory (possibly the lack\n> of responsiveness is down to paging?)\n\nChris/Benoit - is this critical for your testing or do you think this may have significant user impact? We tracked this based upon the assumption that this was critical for testing, but want to double check."},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-09-26T23:05:09Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"This is a user facing bug. It just happens to reproduce on our testing site because it's a complex page. We don't know the trigger so it could happen anywhere on the web with a <video> tag.","id":6670271,"creation_time":"2012-09-26T23:05:09Z","raw_text":"This is a user facing bug. It just happens to reproduce on our testing site because it's a complex page. We don't know the trigger so it could happen anywhere on the web with a <video> tag."},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-09-27T00:19:10Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Benoit Girard (:BenWa) from comment #7)\n> This is a user facing bug. It just happens to reproduce on our testing site\n> because it's a complex page. We don't know the trigger so it could happen\n> anywhere on the web with a <video> tag.\n\nPlease re-nominate if this starts becoming troublesome for internal testing. No need to track given the fact that this crash signature has a very low volume externally.","id":6670531,"creation_time":"2012-09-27T00:19:10Z","raw_text":"(In reply to Benoit Girard (:BenWa) from comment #7)\n> This is a user facing bug. It just happens to reproduce on our testing site\n> because it's a complex page. We don't know the trigger so it could happen\n> anywhere on the web with a <video> tag.\n\nPlease re-nominate if this starts becoming troublesome for internal testing. No need to track given the fact that this crash signature has a very low volume externally."},{"is_private":false,"attachment_id":null,"creator":"wlachance@mozilla.com","time":"2012-09-27T14:54:38Z","author":"wlachance@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Alex Keybl [:akeybl] from comment #8)\n> (In reply to Benoit Girard (:BenWa) from comment #7)\n> > This is a user facing bug. It just happens to reproduce on our testing site\n> > because it's a complex page. We don't know the trigger so it could happen\n> > anywhere on the web with a <video> tag.\n> \n> Please re-nominate if this starts becoming troublesome for internal testing.\n> No need to track given the fact that this crash signature has a very low\n> volume externally.\n\nMost of the time when this bug occurs the only symptom is that the browser becomes super unresponsive (to the point that usually my only resort is to kill it manually) -- I don't think we even have a crash signature for this bug. This could be happening all the time and we wouldn't even notice it... :/","id":6672297,"creation_time":"2012-09-27T14:54:38Z","raw_text":"(In reply to Alex Keybl [:akeybl] from comment #8)\n> (In reply to Benoit Girard (:BenWa) from comment #7)\n> > This is a user facing bug. It just happens to reproduce on our testing site\n> > because it's a complex page. We don't know the trigger so it could happen\n> > anywhere on the web with a <video> tag.\n> \n> Please re-nominate if this starts becoming troublesome for internal testing.\n> No need to track given the fact that this crash signature has a very low\n> volume externally.\n\nMost of the time when this bug occurs the only symptom is that the browser becomes super unresponsive (to the point that usually my only resort is to kill it manually) -- I don't think we even have a crash signature for this bug. This could be happening all the time and we wouldn't even notice it... :/"},{"is_private":false,"attachment_id":null,"creator":"wlachance@mozilla.com","time":"2012-09-27T14:56:31Z","author":"wlachance@mozilla.com","bug_id":789075,"tags":[],"text":"Should also have mentioned at some point that this is 100% reproducible for me on Ubuntu 12.04 using the Aurora builds of Firefox (17)","id":6672304,"creation_time":"2012-09-27T14:56:31Z","raw_text":"Should also have mentioned at some point that this is 100% reproducible for me on Ubuntu 12.04 using the Aurora builds of Firefox (17)"},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-09-27T15:34:57Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"This doesn't reproduce on mac. How bad is the 'stop responding' vs. crash? If we're not blocking on this because the crash stats are low it's not including the impact of the jank caused. This is a regression and can happen to our users on any site using video :(","id":6672466,"creation_time":"2012-09-27T15:34:57Z","raw_text":"This doesn't reproduce on mac. How bad is the 'stop responding' vs. crash? If we're not blocking on this because the crash stats are low it's not including the impact of the jank caused. This is a regression and can happen to our users on any site using video :("},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-10-01T18:31:29Z","author":"ehsan@mozilla.com","bug_id":789075,"tags":[],"text":"This is a serious regression in web content.  I'm pretty disappointed that we let this slide for so long.  It might be already too late for 16 Beta, but we should definitely get this fixed in 17 at least.","id":6683247,"creation_time":"2012-10-01T18:31:29Z","raw_text":"This is a serious regression in web content.  I'm pretty disappointed that we let this slide for so long.  It might be already too late for 16 Beta, but we should definitely get this fixed in 17 at least."},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-10-01T18:34:36Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"Renaming title to be more accurate. It's not a bug with our testing tool but with the browser support. This crash doesn't happen in webkit.","id":6683272,"creation_time":"2012-10-01T18:34:36Z","raw_text":"Renaming title to be more accurate. It's not a bug with our testing tool but with the browser support. This crash doesn't happen in webkit."},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-10-01T22:12:47Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Ehsan Akhgari [:ehsan] from comment #12)\n> This is a serious regression in web content.  I'm pretty disappointed that\n> we let this slide for so long.  It might be already too late for 16 Beta,\n> but we should definitely get this fixed in 17 at least.\n\nFF15 is marked as affected, but we haven't heard about this in the wild. Why are you concerned about this issue specifically?","id":6684167,"creation_time":"2012-10-01T22:12:47Z","raw_text":"(In reply to Ehsan Akhgari [:ehsan] from comment #12)\n> This is a serious regression in web content.  I'm pretty disappointed that\n> we let this slide for so long.  It might be already too late for 16 Beta,\n> but we should definitely get this fixed in 17 at least.\n\nFF15 is marked as affected, but we haven't heard about this in the wild. Why are you concerned about this issue specifically?"},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-10-01T22:17:12Z","author":"ehsan@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to comment #14)\n> (In reply to Ehsan Akhgari [:ehsan] from comment #12)\n> > This is a serious regression in web content.  I'm pretty disappointed that\n> > we let this slide for so long.  It might be already too late for 16 Beta,\n> > but we should definitely get this fixed in 17 at least.\n> \n> FF15 is marked as affected, but we haven't heard about this in the wild. Why\n> are you concerned about this issue specifically?\n\nBecause it's a regression in web content, and a pretty serious one.","id":6684268,"creation_time":"2012-10-01T22:17:12Z","raw_text":"(In reply to comment #14)\n> (In reply to Ehsan Akhgari [:ehsan] from comment #12)\n> > This is a serious regression in web content.  I'm pretty disappointed that\n> > we let this slide for so long.  It might be already too late for 16 Beta,\n> > but we should definitely get this fixed in 17 at least.\n> \n> FF15 is marked as affected, but we haven't heard about this in the wild. Why\n> are you concerned about this issue specifically?\n\nBecause it's a regression in web content, and a pretty serious one."},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-10-01T22:27:39Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"Firefox 15 doesn't appear to be affected. Firefox beta is affected.","id":6684324,"creation_time":"2012-10-01T22:27:39Z","raw_text":"Firefox 15 doesn't appear to be affected. Firefox beta is affected."},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-10-01T22:47:52Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Benoit Girard (:BenWa) from comment #16)\n> Firefox 15 doesn't appear to be affected. Firefox beta is affected.\n\nThis changes things. Can anybody speak to the prevalence of this issue? I'm hearing we can't go by crash stats since this is a hang, so we need a way to reason about the severity at this point.","id":6684407,"creation_time":"2012-10-01T22:47:52Z","raw_text":"(In reply to Benoit Girard (:BenWa) from comment #16)\n> Firefox 15 doesn't appear to be affected. Firefox beta is affected.\n\nThis changes things. Can anybody speak to the prevalence of this issue? I'm hearing we can't go by crash stats since this is a hang, so we need a way to reason about the severity at this point."},{"is_private":false,"attachment_id":null,"creator":"scoobidiver@netcourrier.com","time":"2012-10-02T08:02:18Z","author":"scoobidiver@netcourrier.com","bug_id":789075,"tags":[],"text":"With STR of comment 0, Firefox no longer crashes whatever the version.\nWith STR of bug 795892, Firefox crashes in 15.0.1 and above.","id":6688011,"creation_time":"2012-10-02T08:02:18Z","raw_text":"With STR of comment 0, Firefox no longer crashes whatever the version.\nWith STR of bug 795892, Firefox crashes in 15.0.1 and above."},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-02T17:49:30Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"(In reply to Scoobidiver from comment #18)\n> With STR of comment 0, Firefox no longer crashes whatever the version.\n> With STR of bug 795892, Firefox crashes in 15.0.1 and above.\n\nConfirming this with Windows 7 SP1 32-bit using Firefox 15.0.1 and 17.0a2 2012-10-02. Note that to reproduce the crash all I have to do is load the following URL;\nhttp://people.mozilla.com/~bgirard/cleopatra/?zippedProfile=profiles/sps-profile-1348512228.12.zip&videoCapture=videos/video-1348512228.11.webm","id":6689802,"creation_time":"2012-10-02T17:49:30Z","raw_text":"(In reply to Scoobidiver from comment #18)\n> With STR of comment 0, Firefox no longer crashes whatever the version.\n> With STR of bug 795892, Firefox crashes in 15.0.1 and above.\n\nConfirming this with Windows 7 SP1 32-bit using Firefox 15.0.1 and 17.0a2 2012-10-02. Note that to reproduce the crash all I have to do is load the following URL;\nhttp://people.mozilla.com/~bgirard/cleopatra/?zippedProfile=profiles/sps-profile-1348512228.12.zip&videoCapture=videos/video-1348512228.11.webm"},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-02T18:01:18Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"I've been playing around with several YouTube WebM videos and have not experienced a crash yet with Firefox 17.0a2 2012-10-02. I'm not sure of any other websites which utilize WebM video and YouTube is probably the most common use case. It's possible this crash is tied to the specific usecase provided by Cleopatra, but I'm not sure what else to test to prove that claim.\n\nThat said, I'm not inclined to call this a Firefox 16 blocker (at least not yet). Besides, if it was a critical issue in Firefox 15.0.1, we would have heard about it earlier through our usual feedback channels.","id":6689870,"creation_time":"2012-10-02T18:01:18Z","raw_text":"I've been playing around with several YouTube WebM videos and have not experienced a crash yet with Firefox 17.0a2 2012-10-02. I'm not sure of any other websites which utilize WebM video and YouTube is probably the most common use case. It's possible this crash is tied to the specific usecase provided by Cleopatra, but I'm not sure what else to test to prove that claim.\n\nThat said, I'm not inclined to call this a Firefox 16 blocker (at least not yet). Besides, if it was a critical issue in Firefox 15.0.1, we would have heard about it earlier through our usual feedback channels."},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-10-02T18:08:41Z","author":"ehsan@mozilla.com","bug_id":789075,"tags":[],"text":"Not sure why I thought Andreas owned bug 714408!","id":6689918,"creation_time":"2012-10-02T18:08:41Z","raw_text":"Not sure why I thought Andreas owned bug 714408!"},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-10-02T18:12:11Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"Well cleopatra does more advanced usage of the video element. We use CORS and paint it a canvas. The crash report could be explained by trying to paint the video to a canvas. Someone would have to try this and I don't have a windows environment I can ramp it without stopping my current work (dual boot).","id":6689942,"creation_time":"2012-10-02T18:12:11Z","raw_text":"Well cleopatra does more advanced usage of the video element. We use CORS and paint it a canvas. The crash report could be explained by trying to paint the video to a canvas. Someone would have to try this and I don't have a windows environment I can ramp it without stopping my current work (dual boot)."},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-10-02T18:13:06Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Ehsan Akhgari [:ehsan] from comment #21)\n> Not sure why I thought Andreas owned bug 714408!\n\nBecause part 2 was committed with Gal as the owner.","id":6689947,"creation_time":"2012-10-02T18:13:06Z","raw_text":"(In reply to Ehsan Akhgari [:ehsan] from comment #21)\n> Not sure why I thought Andreas owned bug 714408!\n\nBecause part 2 was committed with Gal as the owner."},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-02T18:16:00Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"(In reply to Benoit Girard (:BenWa) from comment #22)\n> The crash report could be explained by trying to paint the video to a canvas.\n\nIs this a common usecase? Is there any known live sites which do this? \n\nI believe Alex's ask was figuring out how prevalent this crash is in the wild (ie. how easily a common set of users might hit it in Firefox 16's release and the likelihood that we'd need to chemspill a 16.0.1 for it). QA's exploratory testing is supposed to address this immediate concern and it's not clear to me how or where we can exercise \"paint video to canvas\".\n\nAny advice on this front?","id":6689963,"creation_time":"2012-10-02T18:16:00Z","raw_text":"(In reply to Benoit Girard (:BenWa) from comment #22)\n> The crash report could be explained by trying to paint the video to a canvas.\n\nIs this a common usecase? Is there any known live sites which do this? \n\nI believe Alex's ask was figuring out how prevalent this crash is in the wild (ie. how easily a common set of users might hit it in Firefox 16's release and the likelihood that we'd need to chemspill a 16.0.1 for it). QA's exploratory testing is supposed to address this immediate concern and it's not clear to me how or where we can exercise \"paint video to canvas\".\n\nAny advice on this front?"},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-10-02T18:18:36Z","author":"ehsan@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to comment #24)\n> (In reply to Benoit Girard (:BenWa) from comment #22)\n> > The crash report could be explained by trying to paint the video to a canvas.\n> \n> Is this a common usecase? Is there any known live sites which do this? \n> \n> I believe Alex's ask was figuring out how prevalent this crash is in the wild\n> (ie. how easily a common set of users might hit it in Firefox 16's release and\n> the likelihood that we'd need to chemspill a 16.0.1 for it). QA's exploratory\n> testing is supposed to address this immediate concern and it's not clear to me\n> how or where we can exercise \"paint video to canvas\".\n> \n> Any advice on this front?\n\nAs I've mentioned in a private email thread, I think it's best for a developer who knows this code to look into the bug as the regressing patch was not supposed to change behavior on Windows.  We don't need to guess here, really.","id":6689979,"creation_time":"2012-10-02T18:18:36Z","raw_text":"(In reply to comment #24)\n> (In reply to Benoit Girard (:BenWa) from comment #22)\n> > The crash report could be explained by trying to paint the video to a canvas.\n> \n> Is this a common usecase? Is there any known live sites which do this? \n> \n> I believe Alex's ask was figuring out how prevalent this crash is in the wild\n> (ie. how easily a common set of users might hit it in Firefox 16's release and\n> the likelihood that we'd need to chemspill a 16.0.1 for it). QA's exploratory\n> testing is supposed to address this immediate concern and it's not clear to me\n> how or where we can exercise \"paint video to canvas\".\n> \n> Any advice on this front?\n\nAs I've mentioned in a private email thread, I think it's best for a developer who knows this code to look into the bug as the regressing patch was not supposed to change behavior on Windows.  We don't need to guess here, really."},{"is_private":false,"attachment_id":null,"creator":"wlachance@mozilla.com","time":"2012-10-02T18:20:52Z","author":"wlachance@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Benoit Girard (:BenWa) from comment #22)\n> Well cleopatra does more advanced usage of the video element. We use CORS\n> and paint it a canvas. The crash report could be explained by trying to\n> paint the video to a canvas. Someone would have to try this and I don't have\n> a windows environment I can ramp it without stopping my current work (dual\n> boot).\n\nI can reproduce this semi-reliably just by clicking on points on the graph on the eideticker dashboard (e.g. http://eideticker.wrla.ch/#/lg-g2x/taskjs-scrolling/checkerboard) and playing back the videos that appear. I don't think this is specific to CORS or the canvas, although maybe something about that triggers whatever's wrong here reliably.","id":6689992,"creation_time":"2012-10-02T18:20:52Z","raw_text":"(In reply to Benoit Girard (:BenWa) from comment #22)\n> Well cleopatra does more advanced usage of the video element. We use CORS\n> and paint it a canvas. The crash report could be explained by trying to\n> paint the video to a canvas. Someone would have to try this and I don't have\n> a windows environment I can ramp it without stopping my current work (dual\n> boot).\n\nI can reproduce this semi-reliably just by clicking on points on the graph on the eideticker dashboard (e.g. http://eideticker.wrla.ch/#/lg-g2x/taskjs-scrolling/checkerboard) and playing back the videos that appear. I don't think this is specific to CORS or the canvas, although maybe something about that triggers whatever's wrong here reliably."},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-10-02T18:24:21Z","author":"ehsan@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to comment #26)\n> (In reply to Benoit Girard (:BenWa) from comment #22)\n> > Well cleopatra does more advanced usage of the video element. We use CORS\n> > and paint it a canvas. The crash report could be explained by trying to\n> > paint the video to a canvas. Someone would have to try this and I don't have\n> > a windows environment I can ramp it without stopping my current work (dual\n> > boot).\n> \n> I can reproduce this semi-reliably just by clicking on points on the graph on\n> the eideticker dashboard (e.g.\n> http://eideticker.wrla.ch/#/lg-g2x/taskjs-scrolling/checkerboard) and playing\n> back the videos that appear. I don't think this is specific to CORS or the\n> canvas, although maybe something about that triggers whatever's wrong here\n> reliably.\n\nHmm, so maybe this is a better test case for whoever wants to investigate this bug.","id":6690009,"creation_time":"2012-10-02T18:24:21Z","raw_text":"(In reply to comment #26)\n> (In reply to Benoit Girard (:BenWa) from comment #22)\n> > Well cleopatra does more advanced usage of the video element. We use CORS\n> > and paint it a canvas. The crash report could be explained by trying to\n> > paint the video to a canvas. Someone would have to try this and I don't have\n> > a windows environment I can ramp it without stopping my current work (dual\n> > boot).\n> \n> I can reproduce this semi-reliably just by clicking on points on the graph on\n> the eideticker dashboard (e.g.\n> http://eideticker.wrla.ch/#/lg-g2x/taskjs-scrolling/checkerboard) and playing\n> back the videos that appear. I don't think this is specific to CORS or the\n> canvas, although maybe something about that triggers whatever's wrong here\n> reliably.\n\nHmm, so maybe this is a better test case for whoever wants to investigate this bug."},{"is_private":false,"attachment_id":null,"creator":"bgirard@mozilla.com","time":"2012-10-02T18:53:36Z","author":"bgirard@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Ehsan Akhgari [:ehsan] from comment #25)\n> > \n> > Any advice on this front?\n> \n> As I've mentioned in a private email thread, I think it's best for a\n> developer who knows this code to look into the bug as the regressing patch\n> was not supposed to change behavior on Windows.  We don't need to guess\n> here, really.\n\nI agree here that this is the best thing to do.\n\nEqually useful is to reduce the test case. The eideticker page is probably easier to reduce then cleopatra. If we can find the simplest HTML page that reproduces the issues then we can find the trigger and discuss how common it might be.","id":6690157,"creation_time":"2012-10-02T18:53:36Z","raw_text":"(In reply to Ehsan Akhgari [:ehsan] from comment #25)\n> > \n> > Any advice on this front?\n> \n> As I've mentioned in a private email thread, I think it's best for a\n> developer who knows this code to look into the bug as the regressing patch\n> was not supposed to change behavior on Windows.  We don't need to guess\n> here, really.\n\nI agree here that this is the best thing to do.\n\nEqually useful is to reduce the test case. The eideticker page is probably easier to reduce then cleopatra. If we can find the simplest HTML page that reproduces the issues then we can find the trigger and discuss how common it might be."},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-02T18:56:13Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"The eideticker page does not work for me, probably because the videos display \"Video format or MIME type is not supported\".","id":6690169,"creation_time":"2012-10-02T18:56:13Z","raw_text":"The eideticker page does not work for me, probably because the videos display \"Video format or MIME type is not supported\"."},{"is_private":false,"attachment_id":null,"creator":"cpearce@mozilla.com","time":"2012-10-02T22:34:24Z","author":"cpearce@mozilla.com","bug_id":789075,"tags":[],"text":"Nightly crashes for me on Win7 Nightly playing this video:\nhttp://eideticker.wrla.ch/videos/video-1348512228.11.webm","id":6691102,"creation_time":"2012-10-02T22:34:24Z","raw_text":"Nightly crashes for me on Win7 Nightly playing this video:\nhttp://eideticker.wrla.ch/videos/video-1348512228.11.webm"},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-02T22:36:17Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"(In reply to Chris Pearce (:cpearce) from comment #30)\n> Nightly crashes for me on Win7 Nightly playing this video:\n> http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n\nSame here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.","id":6691111,"creation_time":"2012-10-02T22:36:17Z","raw_text":"(In reply to Chris Pearce (:cpearce) from comment #30)\n> Nightly crashes for me on Win7 Nightly playing this video:\n> http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n\nSame here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02."},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-02T22:36:59Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"(In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #31)\n> (In reply to Chris Pearce (:cpearce) from comment #30)\n> > Nightly crashes for me on Win7 Nightly playing this video:\n> > http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n> \n> Same here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.\n\nAnd also Firefox 15.0.1.","id":6691114,"creation_time":"2012-10-02T22:36:59Z","raw_text":"(In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #31)\n> (In reply to Chris Pearce (:cpearce) from comment #30)\n> > Nightly crashes for me on Win7 Nightly playing this video:\n> > http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n> \n> Same here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.\n\nAnd also Firefox 15.0.1."},{"is_private":false,"attachment_id":null,"creator":"cpearce@mozilla.com","time":"2012-10-02T22:51:48Z","author":"cpearce@mozilla.com","bug_id":789075,"tags":[],"text":"This looks like a stack smashing bug, marking security sensitive for now.","id":6691170,"creation_time":"2012-10-02T22:51:48Z","raw_text":"This looks like a stack smashing bug, marking security sensitive for now."},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-10-02T22:58:37Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #32)\n> (In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #31)\n> > (In reply to Chris Pearce (:cpearce) from comment #30)\n> > > Nightly crashes for me on Win7 Nightly playing this video:\n> > > http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n> > \n> > Same here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.\n> \n> And also Firefox 15.0.1.\n\nSounds like we're back to FF15 being affected? If so, this is not a recent regression (and obviously less critical given the lack of user outcry post-release).","id":6691198,"creation_time":"2012-10-02T22:58:37Z","raw_text":"(In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #32)\n> (In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #31)\n> > (In reply to Chris Pearce (:cpearce) from comment #30)\n> > > Nightly crashes for me on Win7 Nightly playing this video:\n> > > http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n> > \n> > Same here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.\n> \n> And also Firefox 15.0.1.\n\nSounds like we're back to FF15 being affected? If so, this is not a recent regression (and obviously less critical given the lack of user outcry post-release)."},{"is_private":false,"attachment_id":null,"creator":"cpearce@mozilla.com","time":"2012-10-02T23:09:21Z","author":"cpearce@mozilla.com","bug_id":789075,"tags":[],"text":"(In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #32)\n> (In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #31)\n> > (In reply to Chris Pearce (:cpearce) from comment #30)\n> > > Nightly crashes for me on Win7 Nightly playing this video:\n> > > http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n> > \n> > Same here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.\n> \n> And also Firefox 15.0.1.\n\nOn this testcase I crash in nightly 2012-05-31-03-05-17 but not in 2012-05-30-13-20-0, which matches the regression range reported above.\n\nI'll build Gal's changeset (85a3f4b90adc) to get a stack to confirm it's the same crash, and not one of the other YCbCr->RGB bugs we've fixed recently.","id":6691246,"creation_time":"2012-10-02T23:09:21Z","raw_text":"(In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #32)\n> (In reply to Anthony Hughes, Mozilla QA (:ashughes) from comment #31)\n> > (In reply to Chris Pearce (:cpearce) from comment #30)\n> > > Nightly crashes for me on Win7 Nightly playing this video:\n> > > http://eideticker.wrla.ch/videos/video-1348512228.11.webm\n> > \n> > Same here on Windows 7 32-bit with Firefox 17.0a2 2012-10-02.\n> \n> And also Firefox 15.0.1.\n\nOn this testcase I crash in nightly 2012-05-31-03-05-17 but not in 2012-05-30-13-20-0, which matches the regression range reported above.\n\nI'll build Gal's changeset (85a3f4b90adc) to get a stack to confirm it's the same crash, and not one of the other YCbCr->RGB bugs we've fixed recently."},{"is_private":false,"attachment_id":null,"creator":"cpearce@mozilla.com","time":"2012-10-03T00:50:00Z","author":"cpearce@mozilla.com","bug_id":789075,"tags":[],"text":"I've gotten better call stacks, right before we crash.\n\nWe crash when the decoder state machine thread releases a video frame:\n\nxul.dll!mozilla::layers::Image::Release()  Line 66 + 0x4f bytes\tC++\nxul.dll!VideoData::~VideoData()  Line 137 + 0x10 bytes\tC++\nxul.dll!nsAutoPtr<VideoData>::assign(VideoData * newPtr)  Line 38 + 0xb bytes\tC++\nxul.dll!nsBuiltinDecoderStateMachine::AdvanceFrame()  Line 2230\tC++\nxul.dll!nsBuiltinDecoderStateMachine::RunStateMachine()  Line 2027\tC++\nxul.dll!nsBuiltinDecoderStateMachine::CallRunStateMachine()  Line 2487\tC++\nxul.dll!nsBuiltinDecoderStateMachine::TimeoutExpired()  Line 2518\tC++\nxul.dll!nsTimerImpl::Fire()  Line 473 + 0x6 bytes\tC++\nxul.dll!nsTimerEvent::Run()  Line 558\tC++\nxul.dll!nsThread::ProcessNextEvent(bool mayWait, bool * result)  Line 612 + 0xe bytes\tC++\nxul.dll!NS_ProcessNextEvent_P(nsIThread * thread, bool mayWait)  Line 220 + 0xd bytes\tC++\n\n...while the main thread is still trying to use that image:\n\nxul.dll!mozilla::layers::ImageContainer::LockCurrentAsSurface(nsIntSize * aSize, mozilla::layers::Image * * aCurrentImage)  Line 287 + 0x12 bytes\tC++\nxul.dll!mozilla::layers::AutoLockImage::AutoLockImage(mozilla::layers::ImageContainer * aContainer, gfxASurface * * aSurface)  Line 560 + 0x1b bytes\tC++\nxul.dll!mozilla::layers::BasicImageLayer::GetAndPaintCurrentImage(gfxContext * aContext, float aOpacity, mozilla::layers::Layer * aMaskLayer)  Line 88\tC++\nxul.dll!mozilla::layers::BasicImageLayer::Paint(gfxContext * aContext, mozilla::layers::Layer * aMaskLayer)  Line 73 + 0x22 bytes\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintSelfOrChildren(mozilla::layers::PaintContext & aPaintContext, gfxContext * aGroupTarget)  Line 829\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintLayer(gfxContext * aTarget, mozilla::layers::Layer * aLayer, void (mozilla::layers::ThebesLayer *, gfxContext *, const nsIntRegion &, const nsIntRegion &, void *)* aCallback, void * aCallbackData, mozilla::layers::ReadbackProcessor * aReadback)  Line 946\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintSelfOrChildren(mozilla::layers::PaintContext & aPaintContext, gfxContext * aGroupTarget)  Line 841\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintLayer(gfxContext * aTarget, mozilla::layers::Layer * aLayer, void (mozilla::layers::ThebesLayer *, gfxContext *, const nsIntRegion &, const nsIntRegion &, void *)* aCallback, void * aCallbackData, mozilla::layers::ReadbackProcessor * aReadback)  Line 946\tC++\nxul.dll!mozilla::layers::BasicLayerManager::EndTransactionInternal(void (mozilla::layers::ThebesLayer *, gfxContext *, const nsIntRegion &, const nsIntRegion &, void *)* aCallback, void * aCallbackData, mozilla::layers::LayerManager::EndTransactionFlags aFlags)  Line 589\tC++\nxul.dll!nsDisplayList::PaintForFrame(nsDisplayListBuilder * aBuilder, nsRenderingContext * aCtx, nsIFrame * aForFrame, unsigned int aFlags)  Line 1069\tC++\nxul.dll!nsDisplayList::PaintRoot(nsDisplayListBuilder * aBuilder, nsRenderingContext * aCtx, unsigned int aFlags)  Line 957\tC++\nxul.dll!nsLayoutUtils::PaintFrame(nsRenderingContext * aRenderingContext, nsIFrame * aFrame, const nsRegion & aDirtyRegion, unsigned int aBackstop, unsigned int aFlags)  Line 1749\tC++\nxul.dll!PresShell::RenderDocument(const nsRect & aRect, unsigned int aFlags, unsigned int aBackgroundColor, gfxContext * aThebesContext)  Line 4361 + 0x20 bytes\tC++\nxul.dll!nsCanvasRenderingContext2DAzure::DrawWindow(nsIDOMWindow * window, double x, double y, double w, double h, const nsAString_internal & bgColor, unsigned int flags, mozilla::ErrorResult & error)  Line 3980\tC++\nxul.dll!mozilla::dom::CanvasRenderingContext2DBinding::drawWindow(JSContext * cx, JS::Handle<JSObject *> obj, nsCanvasRenderingContext2DAzure * self, unsigned int argc, JS::Value * vp)  Line 1876\tC++\nxul.dll!mozilla::dom::CanvasRenderingContext2DBinding::genericMethod(JSContext * cx, unsigned int argc, JS::Value * vp)  Line 2577 + 0x14 bytes\tC++\nmozjs.dll!js::CallJSNative(JSContext * cx, int (JSContext *, unsigned int, JS::Value *)* native, const JS::CallArgs & args)  Line 370 + 0xf bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 367 + 0x15 bytes\tC++\nmozjs.dll!js::Interpret(JSContext * cx, js::StackFrame * entryFrame, js::InterpMode interpMode)  Line 2458 + 0x27 bytes\tC++\nmozjs.dll!js::RunScript(JSContext * cx, JS::Handle<JSScript *> script, js::StackFrame * fp)  Line 324 + 0x7 bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 381\tC++\nmozjs.dll!js::Invoke(JSContext * cx, const JS::Value & thisv, const JS::Value & fval, unsigned int argc, JS::Value * argv, JS::Value * rval)  Line 411 + 0x21 bytes\tC++\nmozjs.dll!js::IndirectProxyHandler::call(JSContext * cx, JSObject * proxy, unsigned int argc, JS::Value * vp)  Line 450 + 0x3b bytes\tC++\nmozjs.dll!js::CrossCompartmentWrapper::call(JSContext * cx, JSObject * wrapper_, unsigned int argc, JS::Value * vp)  Line 722 + 0x12 bytes\tC++\nmozjs.dll!proxy_Call(JSContext * cx, unsigned int argc, JS::Value * vp)  Line 2999 + 0x23 bytes\tC++\nmozjs.dll!js::CallJSNative(JSContext * cx, int (JSContext *, unsigned int, JS::Value *)* native, const JS::CallArgs & args)  Line 370 + 0xf bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 360 + 0xb bytes\tC++\nmozjs.dll!js::Interpret(JSContext * cx, js::StackFrame * entryFrame, js::InterpMode interpMode)  Line 2458 + 0x27 bytes\tC++\nmozjs.dll!js::RunScript(JSContext * cx, JS::Handle<JSScript *> script, js::StackFrame * fp)  Line 324 + 0x7 bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 381\tC++\nmozjs.dll!js::CallOrConstructBoundFunction(JSContext * cx, unsigned int argc, JS::Value * vp)  Line 1086 + 0x25 bytes\tC++\nmozjs.dll!js::CallJSNative(JSContext * cx, int (JSContext *, unsigned int, JS::Value *)* native, const JS::CallArgs & args)  Line 370 + 0xf bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 367 + 0x15 bytes\tC++\nmozjs.dll!js::Invoke(JSContext * cx, const JS::Value & thisv, const JS::Value & fval, unsigned int argc, JS::Value * argv, JS::Value * rval)  Line 411 + 0x21 bytes\tC++\nmozjs.dll!JS_CallFunctionValue(JSContext * cx, JSObject * objArg, JS::Value fval, unsigned int argc, JS::Value * argv, JS::Value * rval)  Line 5860 + 0x24 bytes\tC++\nxul.dll!nsJSContext::CallEventHandler(nsISupports * aTarget, JSObject * aScope, JSObject * aHandler, nsIArray * aargv, nsIVariant * * arv)  Line 1908 + 0x2e bytes\tC++\nxul.dll!nsGlobalWindow::RunTimeoutHandler(nsTimeout * aTimeout, nsIScriptContext * aScx)  Line 9630 + 0x49 bytes\tC++\nxul.dll!nsGlobalWindow::RunTimeout(nsTimeout * aTimeout)  Line 9881\tC++\nxul.dll!nsGlobalWindow::TimerCallback(nsITimer * aTimer, void * aClosure)  Line 10147\tC++\nxul.dll!nsTimerImpl::Fire()  Line 473 + 0x6 bytes\tC++\nxul.dll!nsTimerEvent::Run()  Line 558\tC++\nxul.dll!nsThread::ProcessNextEvent(bool mayWait, bool * result)  Line 612 + 0xe bytes\tC++\nxul.dll!NS_ProcessNextEvent_P(nsIThread * thread, bool mayWait)  Line 220 + 0xd bytes\tC++","id":6691623,"creation_time":"2012-10-03T00:50:00Z","raw_text":"I've gotten better call stacks, right before we crash.\n\nWe crash when the decoder state machine thread releases a video frame:\n\nxul.dll!mozilla::layers::Image::Release()  Line 66 + 0x4f bytes\tC++\nxul.dll!VideoData::~VideoData()  Line 137 + 0x10 bytes\tC++\nxul.dll!nsAutoPtr<VideoData>::assign(VideoData * newPtr)  Line 38 + 0xb bytes\tC++\nxul.dll!nsBuiltinDecoderStateMachine::AdvanceFrame()  Line 2230\tC++\nxul.dll!nsBuiltinDecoderStateMachine::RunStateMachine()  Line 2027\tC++\nxul.dll!nsBuiltinDecoderStateMachine::CallRunStateMachine()  Line 2487\tC++\nxul.dll!nsBuiltinDecoderStateMachine::TimeoutExpired()  Line 2518\tC++\nxul.dll!nsTimerImpl::Fire()  Line 473 + 0x6 bytes\tC++\nxul.dll!nsTimerEvent::Run()  Line 558\tC++\nxul.dll!nsThread::ProcessNextEvent(bool mayWait, bool * result)  Line 612 + 0xe bytes\tC++\nxul.dll!NS_ProcessNextEvent_P(nsIThread * thread, bool mayWait)  Line 220 + 0xd bytes\tC++\n\n...while the main thread is still trying to use that image:\n\nxul.dll!mozilla::layers::ImageContainer::LockCurrentAsSurface(nsIntSize * aSize, mozilla::layers::Image * * aCurrentImage)  Line 287 + 0x12 bytes\tC++\nxul.dll!mozilla::layers::AutoLockImage::AutoLockImage(mozilla::layers::ImageContainer * aContainer, gfxASurface * * aSurface)  Line 560 + 0x1b bytes\tC++\nxul.dll!mozilla::layers::BasicImageLayer::GetAndPaintCurrentImage(gfxContext * aContext, float aOpacity, mozilla::layers::Layer * aMaskLayer)  Line 88\tC++\nxul.dll!mozilla::layers::BasicImageLayer::Paint(gfxContext * aContext, mozilla::layers::Layer * aMaskLayer)  Line 73 + 0x22 bytes\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintSelfOrChildren(mozilla::layers::PaintContext & aPaintContext, gfxContext * aGroupTarget)  Line 829\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintLayer(gfxContext * aTarget, mozilla::layers::Layer * aLayer, void (mozilla::layers::ThebesLayer *, gfxContext *, const nsIntRegion &, const nsIntRegion &, void *)* aCallback, void * aCallbackData, mozilla::layers::ReadbackProcessor * aReadback)  Line 946\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintSelfOrChildren(mozilla::layers::PaintContext & aPaintContext, gfxContext * aGroupTarget)  Line 841\tC++\nxul.dll!mozilla::layers::BasicLayerManager::PaintLayer(gfxContext * aTarget, mozilla::layers::Layer * aLayer, void (mozilla::layers::ThebesLayer *, gfxContext *, const nsIntRegion &, const nsIntRegion &, void *)* aCallback, void * aCallbackData, mozilla::layers::ReadbackProcessor * aReadback)  Line 946\tC++\nxul.dll!mozilla::layers::BasicLayerManager::EndTransactionInternal(void (mozilla::layers::ThebesLayer *, gfxContext *, const nsIntRegion &, const nsIntRegion &, void *)* aCallback, void * aCallbackData, mozilla::layers::LayerManager::EndTransactionFlags aFlags)  Line 589\tC++\nxul.dll!nsDisplayList::PaintForFrame(nsDisplayListBuilder * aBuilder, nsRenderingContext * aCtx, nsIFrame * aForFrame, unsigned int aFlags)  Line 1069\tC++\nxul.dll!nsDisplayList::PaintRoot(nsDisplayListBuilder * aBuilder, nsRenderingContext * aCtx, unsigned int aFlags)  Line 957\tC++\nxul.dll!nsLayoutUtils::PaintFrame(nsRenderingContext * aRenderingContext, nsIFrame * aFrame, const nsRegion & aDirtyRegion, unsigned int aBackstop, unsigned int aFlags)  Line 1749\tC++\nxul.dll!PresShell::RenderDocument(const nsRect & aRect, unsigned int aFlags, unsigned int aBackgroundColor, gfxContext * aThebesContext)  Line 4361 + 0x20 bytes\tC++\nxul.dll!nsCanvasRenderingContext2DAzure::DrawWindow(nsIDOMWindow * window, double x, double y, double w, double h, const nsAString_internal & bgColor, unsigned int flags, mozilla::ErrorResult & error)  Line 3980\tC++\nxul.dll!mozilla::dom::CanvasRenderingContext2DBinding::drawWindow(JSContext * cx, JS::Handle<JSObject *> obj, nsCanvasRenderingContext2DAzure * self, unsigned int argc, JS::Value * vp)  Line 1876\tC++\nxul.dll!mozilla::dom::CanvasRenderingContext2DBinding::genericMethod(JSContext * cx, unsigned int argc, JS::Value * vp)  Line 2577 + 0x14 bytes\tC++\nmozjs.dll!js::CallJSNative(JSContext * cx, int (JSContext *, unsigned int, JS::Value *)* native, const JS::CallArgs & args)  Line 370 + 0xf bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 367 + 0x15 bytes\tC++\nmozjs.dll!js::Interpret(JSContext * cx, js::StackFrame * entryFrame, js::InterpMode interpMode)  Line 2458 + 0x27 bytes\tC++\nmozjs.dll!js::RunScript(JSContext * cx, JS::Handle<JSScript *> script, js::StackFrame * fp)  Line 324 + 0x7 bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 381\tC++\nmozjs.dll!js::Invoke(JSContext * cx, const JS::Value & thisv, const JS::Value & fval, unsigned int argc, JS::Value * argv, JS::Value * rval)  Line 411 + 0x21 bytes\tC++\nmozjs.dll!js::IndirectProxyHandler::call(JSContext * cx, JSObject * proxy, unsigned int argc, JS::Value * vp)  Line 450 + 0x3b bytes\tC++\nmozjs.dll!js::CrossCompartmentWrapper::call(JSContext * cx, JSObject * wrapper_, unsigned int argc, JS::Value * vp)  Line 722 + 0x12 bytes\tC++\nmozjs.dll!proxy_Call(JSContext * cx, unsigned int argc, JS::Value * vp)  Line 2999 + 0x23 bytes\tC++\nmozjs.dll!js::CallJSNative(JSContext * cx, int (JSContext *, unsigned int, JS::Value *)* native, const JS::CallArgs & args)  Line 370 + 0xf bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 360 + 0xb bytes\tC++\nmozjs.dll!js::Interpret(JSContext * cx, js::StackFrame * entryFrame, js::InterpMode interpMode)  Line 2458 + 0x27 bytes\tC++\nmozjs.dll!js::RunScript(JSContext * cx, JS::Handle<JSScript *> script, js::StackFrame * fp)  Line 324 + 0x7 bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 381\tC++\nmozjs.dll!js::CallOrConstructBoundFunction(JSContext * cx, unsigned int argc, JS::Value * vp)  Line 1086 + 0x25 bytes\tC++\nmozjs.dll!js::CallJSNative(JSContext * cx, int (JSContext *, unsigned int, JS::Value *)* native, const JS::CallArgs & args)  Line 370 + 0xf bytes\tC++\nmozjs.dll!js::InvokeKernel(JSContext * cx, JS::CallArgs args, js::MaybeConstruct construct)  Line 367 + 0x15 bytes\tC++\nmozjs.dll!js::Invoke(JSContext * cx, const JS::Value & thisv, const JS::Value & fval, unsigned int argc, JS::Value * argv, JS::Value * rval)  Line 411 + 0x21 bytes\tC++\nmozjs.dll!JS_CallFunctionValue(JSContext * cx, JSObject * objArg, JS::Value fval, unsigned int argc, JS::Value * argv, JS::Value * rval)  Line 5860 + 0x24 bytes\tC++\nxul.dll!nsJSContext::CallEventHandler(nsISupports * aTarget, JSObject * aScope, JSObject * aHandler, nsIArray * aargv, nsIVariant * * arv)  Line 1908 + 0x2e bytes\tC++\nxul.dll!nsGlobalWindow::RunTimeoutHandler(nsTimeout * aTimeout, nsIScriptContext * aScx)  Line 9630 + 0x49 bytes\tC++\nxul.dll!nsGlobalWindow::RunTimeout(nsTimeout * aTimeout)  Line 9881\tC++\nxul.dll!nsGlobalWindow::TimerCallback(nsITimer * aTimer, void * aClosure)  Line 10147\tC++\nxul.dll!nsTimerImpl::Fire()  Line 473 + 0x6 bytes\tC++\nxul.dll!nsTimerEvent::Run()  Line 558\tC++\nxul.dll!nsThread::ProcessNextEvent(bool mayWait, bool * result)  Line 612 + 0xe bytes\tC++\nxul.dll!NS_ProcessNextEvent_P(nsIThread * thread, bool mayWait)  Line 220 + 0xd bytes\tC++"},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-10-03T16:27:57Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"Back to wontfix for FF16, since this bug is not a regression from FF15 and wasn't a critical issue for our users over the last cycle.","id":6693650,"creation_time":"2012-10-03T16:27:57Z","raw_text":"Back to wontfix for FF16, since this bug is not a regression from FF15 and wasn't a critical issue for our users over the last cycle."},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-03T21:43:52Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"I think this has been broken for longer than the regression range suggests, and the changes in the suspected patch changed the allocation patterns/memory layout enough to resurface the crash.  That would explain the much earlier crashes in this code we've seen in bug 672870 and bug 750190.\n\nIn the row processing loop in ConvertYCbCrToRGB32, when y == 588, v_ptr points at the end of the fused buffer allocation containing the Y, U, and V planes.  Depending on memory layout, we get either a silent failure or a read fault when FastConvertYUVToRGB32Row_SSE accesses v_ptr.\n\nu_ptr and v_ptr are calculated by halving y, so when y is 588, the u/v index is 294 for a buffer with valid indices in the range 0..293.","id":6694932,"creation_time":"2012-10-03T21:43:52Z","raw_text":"I think this has been broken for longer than the regression range suggests, and the changes in the suspected patch changed the allocation patterns/memory layout enough to resurface the crash.  That would explain the much earlier crashes in this code we've seen in bug 672870 and bug 750190.\n\nIn the row processing loop in ConvertYCbCrToRGB32, when y == 588, v_ptr points at the end of the fused buffer allocation containing the Y, U, and V planes.  Depending on memory layout, we get either a silent failure or a read fault when FastConvertYUVToRGB32Row_SSE accesses v_ptr.\n\nu_ptr and v_ptr are calculated by halving y, so when y is 588, the u/v index is 294 for a buffer with valid indices in the range 0..293."},{"is_private":false,"attachment_id":null,"creator":"bob@bclary.com","time":"2012-10-04T18:53:10Z","author":"bob@bclary.com","bug_id":789075,"tags":[],"text":"reproducible on WinXP, Windows 7 and OSX with http://eideticker.wrla.ch/videos/video-1348512228.11.webm","id":6698434,"creation_time":"2012-10-04T18:53:10Z","raw_text":"reproducible on WinXP, Windows 7 and OSX with http://eideticker.wrla.ch/videos/video-1348512228.11.webm"},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-04T21:36:11Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"Reassigning.","id":6699040,"creation_time":"2012-10-04T21:36:11Z","raw_text":"Reassigning."},{"is_private":false,"attachment_id":669013,"creator":"kinetik@flim.org","time":"2012-10-08T04:57:41Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"Created attachment 669013\npatch v0\n\nIt looks like we've been handling odd sized WebM videos incorrectly since inception (see bug 566245 comment 8).  The current decoder examples show the correct way to do this (round up, not down), but they were only updated in late 2011: http://git.chromium.org/gitweb/?p=webm/libvpx.git;a=commitdiff;h=6aea309a93d31d775642c6d2b66bc51db6adcbea\n\nAttached patch is Valgrind-clean (except for bug 798989) on x86_64 playing http://eideticker.wrla.ch/videos/video-1348512228.11.webm and a single white 9x5 frame video I'll add a crashtest for.  Try push: https://tbpl.mozilla.org/?tree=Try&rev=02e39ed967db\n\nThis *should* explain the bulk of the crashes in this code going back to Firefox 13 or so--if I understand correctly, we started copying the frames into our own buffer rather than converting them directly  out of the libvpx frame buffer in bug 715785.  Prior to that, we used the incorrectly calculated Cb/Cr dimensions but read memory that libvpx had intended us to read anyway.\n\nDisappointingly, this doesn't explain bug 672870 nor bug 750190, neither of which I can reproduce in a current nightly.","id":6706568,"creation_time":"2012-10-08T04:57:41Z","raw_text":"It looks like we've been handling odd sized WebM videos incorrectly since inception (see bug 566245 comment 8).  The current decoder examples show the correct way to do this (round up, not down), but they were only updated in late 2011: http://git.chromium.org/gitweb/?p=webm/libvpx.git;a=commitdiff;h=6aea309a93d31d775642c6d2b66bc51db6adcbea\n\nAttached patch is Valgrind-clean (except for bug 798989) on x86_64 playing http://eideticker.wrla.ch/videos/video-1348512228.11.webm and a single white 9x5 frame video I'll add a crashtest for.  Try push: https://tbpl.mozilla.org/?tree=Try&rev=02e39ed967db\n\nThis *should* explain the bulk of the crashes in this code going back to Firefox 13 or so--if I understand correctly, we started copying the frames into our own buffer rather than converting them directly  out of the libvpx frame buffer in bug 715785.  Prior to that, we used the incorrectly calculated Cb/Cr dimensions but read memory that libvpx had intended us to read anyway.\n\nDisappointingly, this doesn't explain bug 672870 nor bug 750190, neither of which I can reproduce in a current nightly."},{"is_private":false,"attachment_id":669013,"creator":"tterribe@vt.edu","time":"2012-10-08T05:54:12Z","author":"tterribe@vt.edu","bug_id":789075,"tags":[],"text":"Comment on attachment 669013\npatch v0\n\nReview of attachment 669013:\n-----------------------------------------------------------------\n\nShould we add some ASSERTs to the code that does the copying to guarantee things like this aren't happening elsewhere?","id":6706648,"creation_time":"2012-10-08T05:54:12Z","raw_text":"Review of attachment 669013:\n-----------------------------------------------------------------\n\nShould we add some ASSERTs to the code that does the copying to guarantee things like this aren't happening elsewhere?"},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-16T03:06:31Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"I added an assert and a crashtest.  The crashtest only fails 1/10 times on Linux (despite trying to engineer a file that would cause this as often as possible), but it'll fail every time on Windows.  With the assert in place, it fails on that, and with the fix in place the test passes.\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9fd563bfcf50","id":6731975,"creation_time":"2012-10-16T03:06:31Z","raw_text":"I added an assert and a crashtest.  The crashtest only fails 1/10 times on Linux (despite trying to engineer a file that would cause this as often as possible), but it'll fail every time on Windows.  With the assert in place, it fails on that, and with the fix in place the test passes.\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9fd563bfcf50"},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-16T03:14:52Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"It's not clear if this bug needs to be core-security, but there is some exposure: some of the heap following the video frame allocation may leak into the decoded (RGB) video frame via the Cr channel.  Whether it'd still be useful after colour conversion and quantization, I'm not sure.","id":6731992,"creation_time":"2012-10-16T03:14:52Z","raw_text":"It's not clear if this bug needs to be core-security, but there is some exposure: some of the heap following the video frame allocation may leak into the decoded (RGB) video frame via the Cr channel.  Whether it'd still be useful after colour conversion and quantization, I'm not sure."},{"is_private":false,"attachment_id":null,"creator":"emorley@mozilla.com","time":"2012-10-16T09:27:28Z","author":"emorley@mozilla.com","bug_id":789075,"tags":[],"text":"https://hg.mozilla.org/mozilla-central/rev/9fd563bfcf50","id":6732752,"creation_time":"2012-10-16T09:27:28Z","raw_text":"https://hg.mozilla.org/mozilla-central/rev/9fd563bfcf50"},{"is_private":false,"attachment_id":null,"creator":"lukasblakk+bugs@gmail.com","time":"2012-10-16T23:32:50Z","author":"lukasblakk+bugs@gmail.com","bug_id":789075,"tags":[],"text":"Please nominate for uplift with a risk assessment to help determine if we can take this on branches.","id":6735776,"creation_time":"2012-10-16T23:32:50Z","raw_text":"Please nominate for uplift with a risk assessment to help determine if we can take this on branches."},{"is_private":false,"attachment_id":672098,"creator":"kinetik@flim.org","time":"2012-10-16T23:43:37Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"Created attachment 672098\npatch v1\n\nThis is what I checked in, which is patch v0 plus the crashtest and assertion.","id":6735826,"creation_time":"2012-10-16T23:43:37Z","raw_text":"This is what I checked in, which is patch v0 plus the crashtest and assertion."},{"is_private":false,"attachment_id":672098,"creator":"kinetik@flim.org","time":"2012-10-16T23:47:58Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"Comment on attachment 672098\npatch v1\n\n[Approval Request Comment]\nBug caused by (feature/regressing bug #): bug has existed since the feature was added in bug 566245, but I believe the out-of-bounds reads only started when the buffer copy was changed in bug 715785\nUser impact if declined: playing odd-sized WebM videos may crash browser, possible heap info/security leak\nTesting completed (on m-c, etc.): tested locally, landed on m-c, crashtest and assertion include\nRisk to taking this patch (and alternatives if risky): low, highest risk is that assertion results in additional crashes (but, if so, it has converted the potential info/security leak into a safe crash)\nString or UUID changes made by this patch: none","id":6735846,"creation_time":"2012-10-16T23:47:58Z","raw_text":"[Approval Request Comment]\nBug caused by (feature/regressing bug #): bug has existed since the feature was added in bug 566245, but I believe the out-of-bounds reads only started when the buffer copy was changed in bug 715785\nUser impact if declined: playing odd-sized WebM videos may crash browser, possible heap info/security leak\nTesting completed (on m-c, etc.): tested locally, landed on m-c, crashtest and assertion include\nRisk to taking this patch (and alternatives if risky): low, highest risk is that assertion results in additional crashes (but, if so, it has converted the potential info/security leak into a safe crash)\nString or UUID changes made by this patch: none"},{"is_private":false,"attachment_id":672098,"creator":"lukasblakk+bugs@gmail.com","time":"2012-10-17T18:07:17Z","author":"lukasblakk+bugs@gmail.com","bug_id":789075,"tags":[],"text":"Comment on attachment 672098\npatch v1\n\nThank you, please go ahead with uplift.","id":6738580,"creation_time":"2012-10-17T18:07:17Z","raw_text":"Thank you, please go ahead with uplift."},{"is_private":false,"attachment_id":null,"creator":"lukasblakk+bugs@gmail.com","time":"2012-10-17T18:11:42Z","author":"lukasblakk+bugs@gmail.com","bug_id":789075,"tags":[],"text":"Adding Qawanted: once this lands on Beta we should get some testing on differently sized WebM videos to see if any crashes can be reproduced and to confirm whether they are indeed now safe.","id":6738599,"creation_time":"2012-10-17T18:11:42Z","raw_text":"Adding Qawanted: once this lands on Beta we should get some testing on differently sized WebM videos to see if any crashes can be reproduced and to confirm whether they are indeed now safe."},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-17T23:54:10Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"When testing, please make sure you test with HW acceleration disabled so that this code is used for all playback, otherwise you'll hit the HWA path mostly and this code will only run when the tab thumbnails are generated once a second or so.\n\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/d6dae702f67e\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/fe7f775dc2d7","id":6740245,"creation_time":"2012-10-17T23:54:10Z","raw_text":"When testing, please make sure you test with HW acceleration disabled so that this code is used for all playback, otherwise you'll hit the HWA path mostly and this code will only run when the tab thumbnails are generated once a second or so.\n\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/d6dae702f67e\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/fe7f775dc2d7"},{"is_private":false,"attachment_id":null,"creator":"anthony.s.hughes@gmail.com","time":"2012-10-18T00:04:49Z","author":"anthony.s.hughes@gmail.com","bug_id":789075,"tags":[],"text":"Juan, can you please do some testing with this tomorrow in the 17.0b2 candidate builds?","id":6740279,"creation_time":"2012-10-18T00:04:49Z","raw_text":"Juan, can you please do some testing with this tomorrow in the 17.0b2 candidate builds?"},{"is_private":false,"attachment_id":null,"creator":"wlachance@mozilla.com","time":"2012-10-18T01:40:42Z","author":"wlachance@mozilla.com","bug_id":789075,"tags":[],"text":"I'm seeing hangs on my copy of firefox aurora with the videos chris lord posted today on his blog:\n\nhttp://chrislord.net/blog/Software/Mozilla/progressive-tile-rendering.enlighten\n\nMight make a good alternate test case.","id":6740531,"creation_time":"2012-10-18T01:40:42Z","raw_text":"I'm seeing hangs on my copy of firefox aurora with the videos chris lord posted today on his blog:\n\nhttp://chrislord.net/blog/Software/Mozilla/progressive-tile-rendering.enlighten\n\nMight make a good alternate test case."},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-18T01:47:05Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"Hangs without a crash could be bug 791344; the testcases in this bug tended to trigger that bug as well.  I'll nominate the patch in that bug for uplift too.","id":6740547,"creation_time":"2012-10-18T01:47:05Z","raw_text":"Hangs without a crash could be bug 791344; the testcases in this bug tended to trigger that bug as well.  I'll nominate the patch in that bug for uplift too."},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-18T01:55:39Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"Actually, bug 791344 is on aurora already, so ignore my previous comment.  You could hit that issue on beta, so I've nominated the patch for uplift to beta to aid QA.","id":6740564,"creation_time":"2012-10-18T01:55:39Z","raw_text":"Actually, bug 791344 is on aurora already, so ignore my previous comment.  You could hit that issue on beta, so I've nominated the patch for uplift to beta to aid QA."},{"is_private":false,"attachment_id":null,"creator":"chrislord.net@gmail.com","time":"2012-10-18T11:09:57Z","author":"chrislord.net@gmail.com","bug_id":789075,"tags":[],"text":"(In reply to Alex Keybl [:akeybl] from comment #14)\n> (In reply to Ehsan Akhgari [:ehsan] from comment #12)\n> > This is a serious regression in web content.  I'm pretty disappointed that\n> > we let this slide for so long.  It might be already too late for 16 Beta,\n> > but we should definitely get this fixed in 17 at least.\n> \n> FF15 is marked as affected, but we haven't heard about this in the wild. Why\n> are you concerned about this issue specifically?\n\nIs my blog in-the-wild enough to consider fixing this in 16? (I accidentally came across this, I exclusively use Nightly and so didn't notice)","id":6741487,"creation_time":"2012-10-18T11:09:57Z","raw_text":"(In reply to Alex Keybl [:akeybl] from comment #14)\n> (In reply to Ehsan Akhgari [:ehsan] from comment #12)\n> > This is a serious regression in web content.  I'm pretty disappointed that\n> > we let this slide for so long.  It might be already too late for 16 Beta,\n> > but we should definitely get this fixed in 17 at least.\n> \n> FF15 is marked as affected, but we haven't heard about this in the wild. Why\n> are you concerned about this issue specifically?\n\nIs my blog in-the-wild enough to consider fixing this in 16? (I accidentally came across this, I exclusively use Nightly and so didn't notice)"},{"is_private":false,"attachment_id":null,"creator":"jbecerra@mozilla.com","time":"2012-10-18T15:44:31Z","author":"jbecerra@mozilla.com","bug_id":789075,"tags":[],"text":"Verified on Nightly and Aurora. The fix on Beta didn't make it before the 17b2 was cut, so beta 2 is still crashing using the examples in comment #19 and comment #39 taking into account comment #51. We'll verify on Beta 3 candidates next week.","id":6742244,"creation_time":"2012-10-18T15:44:31Z","raw_text":"Verified on Nightly and Aurora. The fix on Beta didn't make it before the 17b2 was cut, so beta 2 is still crashing using the examples in comment #19 and comment #39 taking into account comment #51. We'll verify on Beta 3 candidates next week."},{"is_private":false,"attachment_id":null,"creator":"akeybl@mozilla.com","time":"2012-10-18T23:13:47Z","author":"akeybl@mozilla.com","bug_id":789075,"tags":[],"text":"Is bug 714408 the regressing bug, or merely tickling the security issue? Want to find out if we can/should take a fix for the ESR10 branch.","id":6744123,"creation_time":"2012-10-18T23:13:47Z","raw_text":"Is bug 714408 the regressing bug, or merely tickling the security issue? Want to find out if we can/should take a fix for the ESR10 branch."},{"is_private":false,"attachment_id":null,"creator":"kinetik@flim.org","time":"2012-10-18T23:49:47Z","author":"kinetik@flim.org","bug_id":789075,"tags":[],"text":"I'm reasonably sure this can only be hit since bug 714408.","id":6744269,"creation_time":"2012-10-18T23:49:47Z","raw_text":"I'm reasonably sure this can only be hit since bug 714408."},{"is_private":false,"attachment_id":null,"creator":"twalker@mozilla.com","time":"2014-01-10T18:39:41Z","author":"twalker@mozilla.com","bug_id":789075,"tags":[],"text":"mass remove verifyme requests greater than 4 months old","id":8277208,"creation_time":"2014-01-10T18:39:41Z","raw_text":"mass remove verifyme requests greater than 4 months old"}]}},"comments":{}}