{"bugs":{"661366":{"comments":[{"is_private":false,"attachment_id":null,"creator":"mozillamarcia.knous@gmail.com","time":"2011-06-01T21:09:32Z","author":"mozillamarcia.knous@gmail.com","bug_id":661366,"tags":[],"text":"Seen while reviewing trunk crash stats. https://crash-stats.mozilla.com/report/list?signature=js::gc::ScanObject to the crashes so which are all Windows and low volume. Crashes started showing up in crash stats using 2011052700\n\nhttps://crash-stats.mozilla.com/report/index/75f48738-6fea-4ac1-96c5-dec9f2110601\n\nPossible pushlog regression range: http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=831f8e040f38&tochange=0cf4fa02c0f2\n\nFrame \tModule \tSignature [Expand] \tSource\n0 \t\t@0x650064 \t\n1 \tmozjs.dll \tjs::gc::ScanObject \tjs/src/jsgcmark.cpp:560\n2 \tmozjs.dll \tjs::GCMarker::drainMarkStack \tjs/src/jsgcmark.cpp:725\n3 \txul.dll \tXPCJSRuntime::TraceJS \tjs/src/xpconnect/src/xpcjsruntime.cpp:380\n4 \tmozjs.dll \tjs::MarkRuntime \tjs/src/jsgc.cpp:1882\n5 \tmozjs.dll \tMarkAndSweep \tjs/src/jsgc.cpp:2318\n6 \tmozjs.dll \tGCCycle \tjs/src/jsgc.cpp:2673\n7 \tmozjs.dll \tjs_GC \tjs/src/jsgc.cpp:2736\n8 \tmozjs.dll \tJS_FreeArenaPool \tjs/src/jsarena.cpp:347\n9 \txul.dll \tnsXPConnect::Collect \tjs/src/xpconnect/src/nsXPConnect.cpp:406\n10 \txul.dll \tnsXPConnect::GarbageCollect \tjs/src/xpconnect/src/nsXPConnect.cpp:414\n11 \txul.dll \tGCTimerFired \tdom/base/nsJSEnvironment.cpp:3302\n12 \txul.dll \tnsTimerImpl::Fire \txpcom/threads/nsTimerImpl.cpp:424\n13 \txul.dll \tnsTimerEvent::Run \txpcom/threads/nsTimerImpl.cpp:520\n14 \txul.dll \tnsThread::ProcessNextEvent \txpcom/threads/nsThread.cpp:618\n15 \txul.dll \tmozilla::ipc::MessagePump::Run \tipc/glue/MessagePump.cpp:134\n16 \txul.dll \txul.dll@0xb6561f \t\n17 \txul.dll \tMessageLoop::RunHandler \tipc/chromium/src/base/message_loop.cc:202\n18 \txul.dll \txul.dll@0x37092f \t\n19 \txul.dll \tMessageLoop::Run \tipc/chromium/src/base/message_loop.cc:176\n20 \txul.dll \timgLoader::LoadImage \tmodules/libpr0n/src/imgLoader.cpp:1718","id":5507235,"creation_time":"2011-06-01T21:09:32Z","raw_text":"Seen while reviewing trunk crash stats. https://crash-stats.mozilla.com/report/list?signature=js::gc::ScanObject to the crashes so which are all Windows and low volume. Crashes started showing up in crash stats using 2011052700\n\nhttps://crash-stats.mozilla.com/report/index/75f48738-6fea-4ac1-96c5-dec9f2110601\n\nPossible pushlog regression range: http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=831f8e040f38&tochange=0cf4fa02c0f2\n\nFrame \tModule \tSignature [Expand] \tSource\n0 \t\t@0x650064 \t\n1 \tmozjs.dll \tjs::gc::ScanObject \tjs/src/jsgcmark.cpp:560\n2 \tmozjs.dll \tjs::GCMarker::drainMarkStack \tjs/src/jsgcmark.cpp:725\n3 \txul.dll \tXPCJSRuntime::TraceJS \tjs/src/xpconnect/src/xpcjsruntime.cpp:380\n4 \tmozjs.dll \tjs::MarkRuntime \tjs/src/jsgc.cpp:1882\n5 \tmozjs.dll \tMarkAndSweep \tjs/src/jsgc.cpp:2318\n6 \tmozjs.dll \tGCCycle \tjs/src/jsgc.cpp:2673\n7 \tmozjs.dll \tjs_GC \tjs/src/jsgc.cpp:2736\n8 \tmozjs.dll \tJS_FreeArenaPool \tjs/src/jsarena.cpp:347\n9 \txul.dll \tnsXPConnect::Collect \tjs/src/xpconnect/src/nsXPConnect.cpp:406\n10 \txul.dll \tnsXPConnect::GarbageCollect \tjs/src/xpconnect/src/nsXPConnect.cpp:414\n11 \txul.dll \tGCTimerFired \tdom/base/nsJSEnvironment.cpp:3302\n12 \txul.dll \tnsTimerImpl::Fire \txpcom/threads/nsTimerImpl.cpp:424\n13 \txul.dll \tnsTimerEvent::Run \txpcom/threads/nsTimerImpl.cpp:520\n14 \txul.dll \tnsThread::ProcessNextEvent \txpcom/threads/nsThread.cpp:618\n15 \txul.dll \tmozilla::ipc::MessagePump::Run \tipc/glue/MessagePump.cpp:134\n16 \txul.dll \txul.dll@0xb6561f \t\n17 \txul.dll \tMessageLoop::RunHandler \tipc/chromium/src/base/message_loop.cc:202\n18 \txul.dll \txul.dll@0x37092f \t\n19 \txul.dll \tMessageLoop::Run \tipc/chromium/src/base/message_loop.cc:176\n20 \txul.dll \timgLoader::LoadImage \tmodules/libpr0n/src/imgLoader.cpp:1718"},{"is_private":false,"attachment_id":null,"creator":"kairo@kairo.at","time":"2011-06-01T22:52:12Z","author":"kairo@kairo.at","bug_id":661366,"tags":[],"text":"This range includes this one as the only change to JS itself that I spot right away:\nhttp://hg.mozilla.org/mozilla-central/rev/7d2a3d61a377 \"Bug 605033 diagnostic: disable PGO for JS\"\n\nThat one was supposed to fix crashes, but maybe (wild guess) it just shifted the signatures to something else. Of course, it's entirely possible that something else is responsible here.","id":5507530,"creation_time":"2011-06-01T22:52:12Z","raw_text":"This range includes this one as the only change to JS itself that I spot right away:\nhttp://hg.mozilla.org/mozilla-central/rev/7d2a3d61a377 \"Bug 605033 diagnostic: disable PGO for JS\"\n\nThat one was supposed to fix crashes, but maybe (wild guess) it just shifted the signatures to something else. Of course, it's entirely possible that something else is responsible here."},{"is_private":false,"attachment_id":null,"creator":"wmccloskey@mozilla.com","time":"2011-06-01T22:54:28Z","author":"wmccloskey@mozilla.com","bug_id":661366,"tags":[],"text":"I looked at a few of these crashes. At a glance, they appear to be the same JS GC crashes that we've been getting forever. The signature just keeps changing due to code churn and different inlining strategies.","id":5507537,"creation_time":"2011-06-01T22:54:28Z","raw_text":"I looked at a few of these crashes. At a glance, they appear to be the same JS GC crashes that we've been getting forever. The signature just keeps changing due to code churn and different inlining strategies."},{"is_private":false,"attachment_id":null,"creator":"kairo@kairo.at","time":"2011-06-01T23:02:17Z","author":"kairo@kairo.at","bug_id":661366,"tags":[],"text":"Bill, \"different inlining strategies\" sounds to me like it very potentially was the \"turn off PGO\" patch that might have caused that come up, is that a valid interpretation? We shouldn't shoot too fast and first see what 5.0b3 with the same patch will show us, but if it might have only shifted crashes to different signatures and not fixing them, it might not have been worth to be done, so we need to keep an eye on those.","id":5507556,"creation_time":"2011-06-01T23:02:17Z","raw_text":"Bill, \"different inlining strategies\" sounds to me like it very potentially was the \"turn off PGO\" patch that might have caused that come up, is that a valid interpretation? We shouldn't shoot too fast and first see what 5.0b3 with the same patch will show us, but if it might have only shifted crashes to different signatures and not fixing them, it might not have been worth to be done, so we need to keep an eye on those."},{"is_private":false,"attachment_id":null,"creator":"wmccloskey@mozilla.com","time":"2011-06-01T23:18:10Z","author":"wmccloskey@mozilla.com","bug_id":661366,"tags":[],"text":"Yes, I meant to agree that turning off PGO is probably what caused the signature change. However, that doesn't mean that turning off PGO wasn't a real fix for bug 605033. In that bug, Dave found very clear evidence that turning off PGO fixes a crash.","id":5507593,"creation_time":"2011-06-01T23:18:10Z","raw_text":"Yes, I meant to agree that turning off PGO is probably what caused the signature change. However, that doesn't mean that turning off PGO wasn't a real fix for bug 605033. In that bug, Dave found very clear evidence that turning off PGO fixes a crash."},{"is_private":false,"attachment_id":null,"creator":"kairo@kairo.at","time":"2011-06-01T23:36:24Z","author":"kairo@kairo.at","bug_id":661366,"tags":[],"text":"(In reply to comment #4)\n> In that bug, Dave found very clear evidence that\n> turning off PGO fixes a crash.\n\nYes, that's why I said we first need to see what 5.0b3 will show us. As turning off PGO has a significant speed cost, we'll be weighing stability vs. performance there, so every piece of info playing into this needs to be kept in mind.","id":5507664,"creation_time":"2011-06-01T23:36:24Z","raw_text":"(In reply to comment #4)\n> In that bug, Dave found very clear evidence that\n> turning off PGO fixes a crash.\n\nYes, that's why I said we first need to see what 5.0b3 will show us. As turning off PGO has a significant speed cost, we'll be weighing stability vs. performance there, so every piece of info playing into this needs to be kept in mind."},{"is_private":false,"attachment_id":null,"creator":"dveditz@mozilla.com","time":"2011-07-07T20:29:46Z","author":"dveditz@mozilla.com","bug_id":661366,"tags":[],"text":"similar to bug 661873; variant, dupe, unrelated?","id":5579448,"creation_time":"2011-07-07T20:29:46Z","raw_text":"similar to bug 661873; variant, dupe, unrelated?"},{"is_private":false,"attachment_id":null,"creator":"smooney@mozilla.com","time":"2011-07-14T20:18:01Z","author":"smooney@mozilla.com","bug_id":661366,"tags":[],"text":"We are going to track this from a stability point of view for FF6 but not a security point of view. Once we have 6.0b2, we can verify this signature disappears of is reduced.","id":5592047,"creation_time":"2011-07-14T20:18:01Z","raw_text":"We are going to track this from a stability point of view for FF6 but not a security point of view. Once we have 6.0b2, we can verify this signature disappears of is reduced."},{"is_private":false,"attachment_id":null,"creator":"mozillamarcia.knous@gmail.com","time":"2011-07-21T20:21:53Z","author":"mozillamarcia.knous@gmail.com","bug_id":661366,"tags":[],"text":"321 crashes in the last week with the B2 build ID.","id":5605263,"creation_time":"2011-07-21T20:21:53Z","raw_text":"321 crashes in the last week with the B2 build ID."},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2011-07-28T03:25:33Z","author":"ehsan@mozilla.com","bug_id":661366,"tags":[],"text":"My brother saw this crash today on his updated 6 beta build:\n\nhttp://crash-stats.mozilla.com/report/index/bp-65892512-9e4f-47d3-9356-f9fdd2110727","id":5618486,"creation_time":"2011-07-28T03:25:33Z","raw_text":"My brother saw this crash today on his updated 6 beta build:\n\nhttp://crash-stats.mozilla.com/report/index/bp-65892512-9e4f-47d3-9356-f9fdd2110727"},{"is_private":false,"attachment_id":null,"creator":"jst@mozilla.org","time":"2011-08-18T21:08:05Z","author":"jst@mozilla.org","bug_id":661366,"tags":[],"text":"This specific bug is not something that's directly being worked on, but it's part of a larger set of GC problems that *is* being worked on by Bill, so assigning this to him to have an owner here. But given the nature of this problem and the lack of ease of exploitability we won't be tracking this for 7.","id":5663684,"creation_time":"2011-08-18T21:08:05Z","raw_text":"This specific bug is not something that's directly being worked on, but it's part of a larger set of GC problems that *is* being worked on by Bill, so assigning this to him to have an owner here. But given the nature of this problem and the lack of ease of exploitability we won't be tracking this for 7."},{"is_private":false,"attachment_id":null,"creator":"dmandelin@mozilla.com","time":"2011-10-07T02:04:53Z","author":"dmandelin@mozilla.com","bug_id":661366,"tags":[],"text":"I'm taking this off the tracking list because these GC bugs just clutter things up.","id":5765485,"creation_time":"2011-10-07T02:04:53Z","raw_text":"I'm taking this off the tracking list because these GC bugs just clutter things up."},{"is_private":false,"attachment_id":null,"creator":"continuation@gmail.com","time":"2014-12-11T21:13:02Z","author":"continuation@gmail.com","bug_id":661366,"tags":[],"text":"Hiding a random GC crash and marking it sec-moderate isn't too useful.  Also, from crash stats, the most recent crash I see with this signature is Firefox 10, though that's likely due to functions being renamed.","id":9684806,"creation_time":"2014-12-11T21:13:02Z","raw_text":"Hiding a random GC crash and marking it sec-moderate isn't too useful.  Also, from crash stats, the most recent crash I see with this signature is Firefox 10, though that's likely due to functions being renamed."}]}},"comments":{}}