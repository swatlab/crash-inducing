{"bugs":{"762494":{"comments":[{"is_private":false,"attachment_id":null,"creator":"dbolter@mozilla.com","time":"2012-06-07T14:43:40Z","author":"dbolter@mozilla.com","bug_id":762494,"tags":[],"text":"This bug was filed from the Socorro interface and is \nreport bp-16f2123b-a0e8-4152-923e-b78972120606 .\n=============================================================","id":6371874,"creation_time":"2012-06-07T14:43:40Z","raw_text":"This bug was filed from the Socorro interface and is \nreport bp-16f2123b-a0e8-4152-923e-b78972120606 .\n============================================================="},{"is_private":false,"attachment_id":null,"creator":"bugs@junglecode.net","time":"2012-06-07T17:40:59Z","author":"bugs@junglecode.net","bug_id":762494,"tags":[],"text":"Looks a lot like bug 702897 but with SVG on the stack. A similar fix may be required here.\n\nAny URLs or STR?","id":6372565,"creation_time":"2012-06-07T17:40:59Z","raw_text":"Looks a lot like bug 702897 but with SVG on the stack. A similar fix may be required here.\n\nAny URLs or STR?"},{"is_private":false,"attachment_id":null,"creator":"unghost@mozilla-russia.org","time":"2012-08-08T15:22:35Z","author":"unghost@mozilla-russia.org","bug_id":762494,"tags":[],"text":"I can easily reproduce this crash:\n1) Navigate to https://stat.ripe.net/195.250.56.0/24#object-browser\n2) Click on any \"Show all\" link (for example \"Show all\" in Organization box).\n\nI've sent some crash reports:\n\nhttps://crash-stats.mozilla.com/report/index/bp-79641183-21e5-4d22-ba24-ef6b22120808\nhttps://crash-stats.mozilla.com/report/index/bp-e2583c02-784d-47a1-9759-036e92120808\nhttps://crash-stats.mozilla.com/report/index/bp-b3cf5fb0-3017-45f9-aade-967d82120808\nhttps://crash-stats.mozilla.com/report/index/bp-b2a0d09a-e12f-4493-9234-5714d2120808","id":6540154,"creation_time":"2012-08-08T15:22:35Z","raw_text":"I can easily reproduce this crash:\n1) Navigate to https://stat.ripe.net/195.250.56.0/24#object-browser\n2) Click on any \"Show all\" link (for example \"Show all\" in Organization box).\n\nI've sent some crash reports:\n\nhttps://crash-stats.mozilla.com/report/index/bp-79641183-21e5-4d22-ba24-ef6b22120808\nhttps://crash-stats.mozilla.com/report/index/bp-e2583c02-784d-47a1-9759-036e92120808\nhttps://crash-stats.mozilla.com/report/index/bp-b3cf5fb0-3017-45f9-aade-967d82120808\nhttps://crash-stats.mozilla.com/report/index/bp-b2a0d09a-e12f-4493-9234-5714d2120808"},{"is_private":false,"attachment_id":null,"creator":"epinal99-bugzilla2@yahoo.fr","time":"2012-08-26T18:30:04Z","author":"epinal99-bugzilla2@yahoo.fr","bug_id":762494,"tags":[],"text":"CR on Win 7:\nhttps://crash-stats.mozilla.com/report/index/90ac2c96-8e12-4eaf-99ca-095132120826\n\nMozregression range:\n\nm-c\ngood=2012-07-20\nbad=2012-07-21\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=3a05d298599e&tochange=446b788ab99d\n\nThe changeset is pretty huge but a good suspected bug should be:\nMats Palmgren  Bug 774794 - Make the aLineList param for MarkLineDirty mandatory; make nsBlockInFlowLineIterator have a valid mLineList for its mLine. r=roc\n\nMaybe a null pointer allocated.","id":6584628,"creation_time":"2012-08-26T18:30:04Z","raw_text":"CR on Win 7:\nhttps://crash-stats.mozilla.com/report/index/90ac2c96-8e12-4eaf-99ca-095132120826\n\nMozregression range:\n\nm-c\ngood=2012-07-20\nbad=2012-07-21\nhttp://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=3a05d298599e&tochange=446b788ab99d\n\nThe changeset is pretty huge but a good suspected bug should be:\nMats Palmgren  Bug 774794 - Make the aLineList param for MarkLineDirty mandatory; make nsBlockInFlowLineIterator have a valid mLineList for its mLine. r=roc\n\nMaybe a null pointer allocated."},{"is_private":false,"attachment_id":null,"creator":"epinal99-bugzilla2@yahoo.fr","time":"2012-08-26T18:33:55Z","author":"epinal99-bugzilla2@yahoo.fr","bug_id":762494,"tags":[],"text":"The weird thing is this current bug report has been filled before the patch from bug 774794 landed. So maybe there is a mix between 2 differents bugs with similar crash signature.","id":6584633,"creation_time":"2012-08-26T18:33:55Z","raw_text":"The weird thing is this current bug report has been filled before the patch from bug 774794 landed. So maybe there is a mix between 2 differents bugs with similar crash signature."},{"is_private":false,"attachment_id":null,"creator":"scoobidiver@netcourrier.com","time":"2012-09-08T06:52:37Z","author":"scoobidiver@netcourrier.com","bug_id":762494,"tags":[],"text":"I can reproduce: bp-b16e1858-d97c-4fb5-8d07-0a2ad2120908.","id":6620026,"creation_time":"2012-09-08T06:52:37Z","raw_text":"I can reproduce: bp-b16e1858-d97c-4fb5-8d07-0a2ad2120908."},{"is_private":false,"attachment_id":null,"creator":"dbolter@mozilla.com","time":"2012-09-17T16:44:29Z","author":"dbolter@mozilla.com","bug_id":762494,"tags":[],"text":"Adding Ehsan based on ownership in the stack from comment 5.","id":6640503,"creation_time":"2012-09-17T16:44:29Z","raw_text":"Adding Ehsan based on ownership in the stack from comment 5."},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-09-17T18:29:32Z","author":"ehsan@mozilla.com","bug_id":762494,"tags":[],"text":"How can this be reproduced?","id":6640916,"creation_time":"2012-09-17T18:29:32Z","raw_text":"How can this be reproduced?"},{"is_private":false,"attachment_id":null,"creator":"unghost@mozilla-russia.org","time":"2012-09-17T19:19:31Z","author":"unghost@mozilla-russia.org","bug_id":762494,"tags":[],"text":"(In reply to Ehsan Akhgari [:ehsan] from comment #7)\n> How can this be reproduced?\nSee comment #2","id":6641097,"creation_time":"2012-09-17T19:19:31Z","raw_text":"(In reply to Ehsan Akhgari [:ehsan] from comment #7)\n> How can this be reproduced?\nSee comment #2"},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-09-18T02:20:01Z","author":"ehsan@mozilla.com","bug_id":762494,"tags":[],"text":"OK, I can reproduce this.  A very short investigation shows that the next sibling for the frame at hand is garbage value:\n\nProgram received signal EXC_BAD_ACCESS, Could not access memory.\nReason: 13 at address: 0x0000000000000000\nnsIFrame::GetNextSibling (this=0x7ffffffff0dea7ff) at nsIFrame.h:1106\nwarning: Source file is more recent than executable.\n1106\t  // A special alias for kPrincipalList that do not request reflow.\n(gdb) bt 20\n#0  nsIFrame::GetNextSibling (this=0x7ffffffff0dea7ff) at nsIFrame.h:1106\n#1  0x0000000101737554 in nsLineBox::IndexOf (this=0x152bda848, aFrame=0x151a338c0)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsLineBox.cpp:293\n#2  0x00000001016b9a3a in nsLineBox::Contains (this=0x152bda848, aFrame=0x151a338c0) at nsLineBox.h:514\n#3  0x00000001016b3b22 in nsBlockInFlowLineIterator::nsBlockInFlowLineIterator (this=0x7fff5fbe7b08, aFrame=0x152013700, aFindFrame=0x151a338c0, \n    aFoundValidLine=0x7fff5fbe7b2f) at /Users/ehsanakhgari/moz/inbound/layout/generic/nsBlockFrame.cpp:5259\n#4  0x00000001016b38bd in nsBlockInFlowLineIterator::nsBlockInFlowLineIterator (this=0x7fff5fbe7b08, aFrame=0x152013700, aFindFrame=0x151a338c0, \n    aFoundValidLine=0x7fff5fbe7b2f) at /Users/ehsanakhgari/moz/inbound/layout/generic/nsBlockFrame.cpp:5295\n#5  0x00000001016b6e06 in nsBlockFrame::ChildIsDirty (this=0x152013700, aChild=0x151a338c0)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsBlockFrame.cpp:6504\n#6  0x000000010163563b in PresShell::FrameNeedsReflow (this=0x115aabcf0, aFrame=0x155aec420, aIntrinsicDirty=nsIPresShell::eResize, aBitToAdd=4096)\n    at /Users/ehsanakhgari/moz/inbound/layout/base/nsPresShell.cpp:2612\n#7  0x0000000102631e2c in nsSVGUtils::ScheduleReflowSVG (aFrame=0x157958a28) at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGUtils.cpp:790\n#8  0x0000000102631eac in nsSVGUtils::InvalidateAndScheduleReflowSVG (aFrame=0x157958a28)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGUtils.cpp:804\n#9  0x00000001025fb83f in nsSVGMarkerProperty::DoUpdate (this=0x151b3a7f0) at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:281\n#10 0x00000001025fb3aa in nsSVGRenderingObserver::InvalidateViaReferencedElement (this=0x151b3a7f0)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:164\n#11 0x00000001025fc61b in nsSVGRenderingObserverList::InvalidateAll (this=0x157398790)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:544\n#12 0x00000001025fc816 in nsSVGEffects::InvalidateDirectRenderingObservers (aElement=0x15792e680)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:643\n#13 0x00000001025fc878 in nsSVGEffects::InvalidateDirectRenderingObservers (aFrame=0x157959630)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:652\n#14 0x00000001016d46f2 in nsFrame::DestroyFrom (this=0x157959630, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsFrame.cpp:592\n#15 0x0000000101768cd4 in nsSplittableFrame::DestroyFrom (this=0x157959630, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsSplittableFrame.cpp:43\n#16 0x00000001016c8918 in nsContainerFrame::DestroyFrom (this=0x157959630, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsContainerFrame.cpp:237\n#17 0x00000001016f7dba in nsFrameList::DestroyFramesFrom (this=0x155aec700, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsFrameList.cpp:61\n#18 0x00000001016c8841 in nsContainerFrame::DestroyFrom (this=0x155aec6a0, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsContainerFrame.cpp:217\n#19 0x00000001016f7dba in nsFrameList::DestroyFramesFrom (this=0x155aec5e8, aDestructRoot=0x118de33d8)\n---Type <return> to continue, or q <return> to quit---up\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsFrameList.cpp:61\n(More stack frames follow...)\n(gdb) up \n#1  0x0000000101737554 in nsLineBox::IndexOf (this=0x152bda848, aFrame=0x151a338c0)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsLineBox.cpp:293\n293\t    frame = frame->GetNextSibling();\n(gdb) list\n288\t  nsIFrame* frame = mFirstChild;\n289\t  for (i = 0; i < n; i++) {\n290\t    if (frame == aFrame) {\n291\t      return i;\n292\t    }\n293\t    frame = frame->GetNextSibling();\n294\t  }\n295\t  return -1;\n296\t}\n297\t\n(gdb) p frame\n$1 = (Cannot access memory at address 0x7ffffffff0dea7ff\n(gdb) p *frame\nCannot access memory at address 0x7ffffffff0dea7ff\n(gdb) p mFirstChild\n$2 = (nsIFrame *) 0x152bda668\n(gdb) p i          \n$3 = 1\n(gdb) p n\n$4 = 2\n(gdb) p mFirstChild->GetNextSibling()\n$5 = (Cannot access memory at address 0x7ffffffff0dea7ff\n\n\nNow, David, why do you think I own this bug?  :-)","id":6642363,"creation_time":"2012-09-18T02:20:01Z","raw_text":"OK, I can reproduce this.  A very short investigation shows that the next sibling for the frame at hand is garbage value:\n\nProgram received signal EXC_BAD_ACCESS, Could not access memory.\nReason: 13 at address: 0x0000000000000000\nnsIFrame::GetNextSibling (this=0x7ffffffff0dea7ff) at nsIFrame.h:1106\nwarning: Source file is more recent than executable.\n1106\t  // A special alias for kPrincipalList that do not request reflow.\n(gdb) bt 20\n#0  nsIFrame::GetNextSibling (this=0x7ffffffff0dea7ff) at nsIFrame.h:1106\n#1  0x0000000101737554 in nsLineBox::IndexOf (this=0x152bda848, aFrame=0x151a338c0)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsLineBox.cpp:293\n#2  0x00000001016b9a3a in nsLineBox::Contains (this=0x152bda848, aFrame=0x151a338c0) at nsLineBox.h:514\n#3  0x00000001016b3b22 in nsBlockInFlowLineIterator::nsBlockInFlowLineIterator (this=0x7fff5fbe7b08, aFrame=0x152013700, aFindFrame=0x151a338c0, \n    aFoundValidLine=0x7fff5fbe7b2f) at /Users/ehsanakhgari/moz/inbound/layout/generic/nsBlockFrame.cpp:5259\n#4  0x00000001016b38bd in nsBlockInFlowLineIterator::nsBlockInFlowLineIterator (this=0x7fff5fbe7b08, aFrame=0x152013700, aFindFrame=0x151a338c0, \n    aFoundValidLine=0x7fff5fbe7b2f) at /Users/ehsanakhgari/moz/inbound/layout/generic/nsBlockFrame.cpp:5295\n#5  0x00000001016b6e06 in nsBlockFrame::ChildIsDirty (this=0x152013700, aChild=0x151a338c0)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsBlockFrame.cpp:6504\n#6  0x000000010163563b in PresShell::FrameNeedsReflow (this=0x115aabcf0, aFrame=0x155aec420, aIntrinsicDirty=nsIPresShell::eResize, aBitToAdd=4096)\n    at /Users/ehsanakhgari/moz/inbound/layout/base/nsPresShell.cpp:2612\n#7  0x0000000102631e2c in nsSVGUtils::ScheduleReflowSVG (aFrame=0x157958a28) at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGUtils.cpp:790\n#8  0x0000000102631eac in nsSVGUtils::InvalidateAndScheduleReflowSVG (aFrame=0x157958a28)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGUtils.cpp:804\n#9  0x00000001025fb83f in nsSVGMarkerProperty::DoUpdate (this=0x151b3a7f0) at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:281\n#10 0x00000001025fb3aa in nsSVGRenderingObserver::InvalidateViaReferencedElement (this=0x151b3a7f0)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:164\n#11 0x00000001025fc61b in nsSVGRenderingObserverList::InvalidateAll (this=0x157398790)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:544\n#12 0x00000001025fc816 in nsSVGEffects::InvalidateDirectRenderingObservers (aElement=0x15792e680)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:643\n#13 0x00000001025fc878 in nsSVGEffects::InvalidateDirectRenderingObservers (aFrame=0x157959630)\n    at /Users/ehsanakhgari/moz/inbound/layout/svg/base/src/nsSVGEffects.cpp:652\n#14 0x00000001016d46f2 in nsFrame::DestroyFrom (this=0x157959630, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsFrame.cpp:592\n#15 0x0000000101768cd4 in nsSplittableFrame::DestroyFrom (this=0x157959630, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsSplittableFrame.cpp:43\n#16 0x00000001016c8918 in nsContainerFrame::DestroyFrom (this=0x157959630, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsContainerFrame.cpp:237\n#17 0x00000001016f7dba in nsFrameList::DestroyFramesFrom (this=0x155aec700, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsFrameList.cpp:61\n#18 0x00000001016c8841 in nsContainerFrame::DestroyFrom (this=0x155aec6a0, aDestructRoot=0x118de33d8)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsContainerFrame.cpp:217\n#19 0x00000001016f7dba in nsFrameList::DestroyFramesFrom (this=0x155aec5e8, aDestructRoot=0x118de33d8)\n---Type <return> to continue, or q <return> to quit---up\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsFrameList.cpp:61\n(More stack frames follow...)\n(gdb) up \n#1  0x0000000101737554 in nsLineBox::IndexOf (this=0x152bda848, aFrame=0x151a338c0)\n    at /Users/ehsanakhgari/moz/inbound/layout/generic/nsLineBox.cpp:293\n293\t    frame = frame->GetNextSibling();\n(gdb) list\n288\t  nsIFrame* frame = mFirstChild;\n289\t  for (i = 0; i < n; i++) {\n290\t    if (frame == aFrame) {\n291\t      return i;\n292\t    }\n293\t    frame = frame->GetNextSibling();\n294\t  }\n295\t  return -1;\n296\t}\n297\t\n(gdb) p frame\n$1 = (Cannot access memory at address 0x7ffffffff0dea7ff\n(gdb) p *frame\nCannot access memory at address 0x7ffffffff0dea7ff\n(gdb) p mFirstChild\n$2 = (nsIFrame *) 0x152bda668\n(gdb) p i          \n$3 = 1\n(gdb) p n\n$4 = 2\n(gdb) p mFirstChild->GetNextSibling()\n$5 = (Cannot access memory at address 0x7ffffffff0dea7ff\n\n\nNow, David, why do you think I own this bug?  :-)"},{"is_private":false,"attachment_id":null,"creator":"mats@mozilla.com","time":"2012-09-18T02:32:34Z","author":"mats@mozilla.com","bug_id":762494,"tags":[],"text":"Looks like the same underlying problem as in bug 789719.\nEhsan, does the patch in that bug fix the crash?","id":6642379,"creation_time":"2012-09-18T02:32:34Z","raw_text":"Looks like the same underlying problem as in bug 789719.\nEhsan, does the patch in that bug fix the crash?"},{"is_private":false,"attachment_id":null,"creator":"ehsan@mozilla.com","time":"2012-09-18T03:40:08Z","author":"ehsan@mozilla.com","bug_id":762494,"tags":[],"text":"Yes!\n\n*** This bug has been marked as a duplicate of bug 789719 ***","id":6642468,"creation_time":"2012-09-18T03:40:08Z","raw_text":"Yes!"},{"is_private":false,"attachment_id":null,"creator":"lukasblakk+bugs@gmail.com","time":"2012-09-25T18:52:28Z","author":"lukasblakk+bugs@gmail.com","bug_id":762494,"tags":[],"text":"moved tracking over to bug 789719","id":6665506,"creation_time":"2012-09-25T18:52:28Z","raw_text":"moved tracking over to bug 789719"}]}},"comments":{}}