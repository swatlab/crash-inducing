16295: /********************************************************************
16295:  *                                                                  *
16295:  * THIS FILE IS PART OF THE OggVorbis SOFTWARE CODEC SOURCE CODE.   *
16295:  * USE, DISTRIBUTION AND REPRODUCTION OF THIS LIBRARY SOURCE IS     *
16295:  * GOVERNED BY A BSD-STYLE SOURCE LICENSE INCLUDED WITH THIS SOURCE *
16295:  * IN 'COPYING'. PLEASE READ THESE TERMS BEFORE DISTRIBUTING.       *
16295:  *                                                                  *
31034:  * THE OggVorbis SOURCE CODE IS (C) COPYRIGHT 1994-2009             *
16295:  * by the Xiph.Org Foundation http://www.xiph.org/                  *
16295:  *                                                                  *
16295:  ********************************************************************
16295: 
16295:  function: modified discrete cosine transform prototypes
31034:  last mod: $Id: mdct.h 16227 2009-07-08 06:58:46Z xiphmont $
16295: 
16295:  ********************************************************************/
16295: 
16295: #ifndef _OGG_mdct_H_
16295: #define _OGG_mdct_H_
16295: 
16295: #include "vorbis/codec.h"
16295: 
16295: 
16295: 
16295: 
16295: 
16295: /*#define MDCT_INTEGERIZED  <- be warned there could be some hurt left here*/
16295: #ifdef MDCT_INTEGERIZED
16295: 
16295: #define DATA_TYPE int
16295: #define REG_TYPE  register int
16295: #define TRIGBITS 14
16295: #define cPI3_8 6270
16295: #define cPI2_8 11585
16295: #define cPI1_8 15137
16295: 
16295: #define FLOAT_CONV(x) ((int)((x)*(1<<TRIGBITS)+.5))
16295: #define MULT_NORM(x) ((x)>>TRIGBITS)
16295: #define HALVE(x) ((x)>>1)
16295: 
16295: #else
16295: 
16295: #define DATA_TYPE float
16295: #define REG_TYPE  float
16295: #define cPI3_8 .38268343236508977175F
16295: #define cPI2_8 .70710678118654752441F
16295: #define cPI1_8 .92387953251128675613F
16295: 
16295: #define FLOAT_CONV(x) (x)
16295: #define MULT_NORM(x) (x)
16295: #define HALVE(x) ((x)*.5f)
16295: 
16295: #endif
16295: 
16295: 
16295: typedef struct {
16295:   int n;
16295:   int log2n;
16295: 
16295:   DATA_TYPE *trig;
16295:   int       *bitrev;
16295: 
16295:   DATA_TYPE scale;
16295: } mdct_lookup;
16295: 
16295: extern void mdct_init(mdct_lookup *lookup,int n);
16295: extern void mdct_clear(mdct_lookup *l);
16295: extern void mdct_forward(mdct_lookup *init, DATA_TYPE *in, DATA_TYPE *out);
16295: extern void mdct_backward(mdct_lookup *init, DATA_TYPE *in, DATA_TYPE *out);
16295: 
16295: #endif
