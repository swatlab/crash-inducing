   1: #! gmake
   1: # 
   1: # ***** BEGIN LICENSE BLOCK *****
   1: # Version: MPL 1.1/GPL 2.0/LGPL 2.1
   1: #
   1: # The contents of this file are subject to the Mozilla Public License Version
   1: # 1.1 (the "License"); you may not use this file except in compliance with
   1: # the License. You may obtain a copy of the License at
   1: # http://www.mozilla.org/MPL/
   1: #
   1: # Software distributed under the License is distributed on an "AS IS" basis,
   1: # WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   1: # for the specific language governing rights and limitations under the
   1: # License.
   1: #
   1: # The Original Code is mozilla.org code.
   1: #
   1: # The Initial Developer of the Original Code is
   1: # Netscape Communications Corporation.
   1: # Portions created by the Initial Developer are Copyright (C) 2000
   1: # the Initial Developer. All Rights Reserved.
   1: #
   1: # Contributor(s):
   1: #   Stuart Parmenter <pavlov@netscape.com>
   1: #
   1: # Alternatively, the contents of this file may be used under the terms of
   1: # either the GNU General Public License Version 2 or later (the "GPL"), or
   1: # the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
   1: # in which case the provisions of the GPL or the LGPL are applicable instead
   1: # of those above. If you wish to allow use of your version of this file only
   1: # under the terms of either the GPL or the LGPL, and not to allow others to
   1: # use your version of this file under the terms of the MPL, indicate your
   1: # decision by deleting the provisions above and replace them with the notice
   1: # and other provisions required by the GPL or the LGPL. If you do not delete
   1: # the provisions above, a recipient may use your version of this file under
   1: # the terms of any one of the MPL, the GPL or the LGPL.
   1: #
   1: # ***** END LICENSE BLOCK *****
   1: 
   1: DEPTH   = ../../../..
   1: topsrcdir = @top_srcdir@
   1: srcdir    = @srcdir@
   1: VPATH   = @srcdir@
   1: 
   1: include $(DEPTH)/config/autoconf.mk
   1: 
   1: MODULE    = downloads
   1: LIBRARY_NAME  = download_s
   1: FORCE_STATIC_LIB = 1
   1: LIBXUL_LIBRARY = 1
   1: 
   1: REQUIRES  = xpcom \
   1:             string \
   1:             rdf \
   1:             uriloader \
   1:             mimetype \
   1:             necko \
   1:             pref \
   1:             progressDlg \
   1:             intl \
   1:             windowwatcher \
   1:             webbrowserpersist \
   1:             appshell \
   1:             dom \
   1:             embed_base \
   1:             alerts \
1691:             storage \
5176:             xulapp \
   1:             $(NULL)
   1: 
   1: CPPSRCS   = \
   1:     nsDownloadManager.cpp \
   1:     $(NULL)
   1: 
5176: ifeq ($(OS_ARCH),WINNT)
5176: CPPSRCS += nsDownloadScanner.cpp
5176: endif
5176: 
5352: EXTRA_COMPONENTS = \
5352:   nsDownloadManagerUI.js \
5352:   $(NULL)
5352: 
   1: include $(topsrcdir)/config/rules.mk
   1: 
   1: EXTRA_DSO_LDOPTS += $(MOZ_COMPONENT_LIBS)
   1: 
