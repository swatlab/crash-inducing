138652: # -*- Mode: python; c-basic-offset: 4; indent-tabs-mode: nil; tab-width: 40 -*-
134439: # vim: set filetype=python:
134439: # This Source Code Form is subject to the terms of the Mozilla Public
134439: # License, v. 2.0. If a copy of the MPL was not distributed with this
134439: # file, You can obtain one at http://mozilla.org/MPL/2.0/.
134439: 
180453: MOCHITEST_MANIFESTS += ['test/mochitest.ini']
180453: MOCHITEST_CHROME_MANIFESTS += ['test/chrome.ini']
180453: 
180453: XPIDL_SOURCES += [
180453:     'nsIEventListenerService.idl',
180453: ]
180453: 
180453: XPIDL_MODULE = 'content_events'
180453: 
180453: EXPORTS.mozilla += [
192083:     'AsyncEventDispatcher.h',
196039:     'DOMEventTargetHelper.h',
193672:     'EventDispatcher.h',
192081:     'EventListenerManager.h',
196072:     'EventNameList.h',
196025:     'EventStateManager.h',
196390:     'EventStates.h',
190851:     'IMEStateManager.h',
189233:     'InternalMutationEvent.h',
196139:     'JSEventHandler.h',
196071:     'KeyNameList.h',
196392:     'TextComposition.h',
196073:     'VirtualKeyCodeList.h',
140753: ]
140753: 
140753: EXPORTS.mozilla.dom += [
188838:     'AnimationEvent.h',
188839:     'BeforeUnloadEvent.h',
188840:     'ClipboardEvent.h',
188841:     'CommandEvent.h',
188842:     'CompositionEvent.h',
188843:     'DataContainerEvent.h',
189110:     'DataTransfer.h',
189224:     'DeviceMotionEvent.h',
189225:     'DragEvent.h',
190116:     'Event.h',
180453:     'EventTarget.h',
189226:     'FocusEvent.h',
197486:     'InputEvent.h',
189227:     'KeyboardEvent.h',
189228:     'MessageEvent.h',
189231:     'MouseEvent.h',
189229:     'MouseScrollEvent.h',
189234:     'MutationEvent.h',
189483:     'NotifyPaintEvent.h',
196391:     'PaintRequest.h',
172283:     'PointerEvent.h',
189484:     'ScrollAreaEvent.h',
189230:     'SimpleGestureEvent.h',
140753:     'Touch.h',
189479:     'TouchEvent.h',
189481:     'TransitionEvent.h',
189485:     'UIEvent.h',
188837:     'WheelEvent.h',
189482:     'XULCommandEvent.h',
140753: ]
140753: 
150187: if CONFIG['MOZ_WEBSPEECH']:
150187:     EXPORTS.mozilla.dom += ['SpeechRecognitionError.h']
150187: 
171822: UNIFIED_SOURCES += [
188838:     'AnimationEvent.cpp',
192083:     'AsyncEventDispatcher.cpp',
188839:     'BeforeUnloadEvent.cpp',
188840:     'ClipboardEvent.cpp',
188841:     'CommandEvent.cpp',
188842:     'CompositionEvent.cpp',
191142:     'ContentEventHandler.cpp',
188843:     'DataContainerEvent.cpp',
189110:     'DataTransfer.cpp',
189224:     'DeviceMotionEvent.cpp',
196039:     'DOMEventTargetHelper.cpp',
189225:     'DragEvent.cpp',
190116:     'Event.cpp',
193672:     'EventDispatcher.cpp',
192081:     'EventListenerManager.cpp',
192077:     'EventListenerService.cpp',
145395:     'EventTarget.cpp',
189226:     'FocusEvent.cpp',
190849:     'IMEContentObserver.cpp',
190851:     'IMEStateManager.cpp',
197486:     'InputEvent.cpp',
196139:     'JSEventHandler.cpp',
189227:     'KeyboardEvent.cpp',
189228:     'MessageEvent.cpp',
189231:     'MouseEvent.cpp',
189229:     'MouseScrollEvent.cpp',
189234:     'MutationEvent.cpp',
189879:     'NotifyPaintEvent.cpp',
196391:     'PaintRequest.cpp',
172283:     'PointerEvent.cpp',
189879:     'ScrollAreaEvent.cpp',
189230:     'SimpleGestureEvent.cpp',
166678:     'TextComposition.cpp',
166678:     'Touch.cpp',
189479:     'TouchEvent.cpp',
189481:     'TransitionEvent.cpp',
189879:     'UIEvent.cpp',
188837:     'WheelEvent.cpp',
196021:     'WheelHandlingHelper.cpp',
189482:     'XULCommandEvent.cpp',
145395: ]
150187: 
189879: # nsEventStateManager.cpp should be built separately because of Mac OS X headers.
188480: SOURCES += [
196025:     'EventStateManager.cpp',
171822: ]
171822: 
150187: if CONFIG['MOZ_WEBSPEECH']:
171822:     UNIFIED_SOURCES += ['SpeechRecognitionError.cpp']
157587: 
157587: FAIL_ON_WARNINGS = True
157587: 
157600: MSVC_ENABLE_PGO = True
157600: 
166713: include('/ipc/chromium/chromium-config.mozbuild')
166713: 
171742: FINAL_LIBRARY = 'gklayout'
169860: LOCAL_INCLUDES += [
169860:     '/content/base/src',
169860:     '/content/html/content/src',
203065:     '/content/xml/content/src',
169860:     '/content/xul/content/src',
169860:     '/dom/base',
169860:     '/dom/settings',
169860:     '/dom/src/storage',
194361:     '/dom/workers',
175113:     '/js/xpconnect/wrappers',
169860:     '/layout/generic',
174445:     '/layout/xul',
169860:     '/layout/xul/tree/',
169860: ]
169860: 
169860: if CONFIG['MOZ_WIDGET_TOOLKIT'] == 'gonk':
169860:     LOCAL_INCLUDES += [
169860:         '/dom/wifi',
169860:     ]
169860: 
169860: if CONFIG['MOZ_JSDEBUGGER']:
169860:     DEFINES['MOZ_JSDEBUGGER'] = True
