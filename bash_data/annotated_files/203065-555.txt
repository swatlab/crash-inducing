138652: # -*- Mode: python; c-basic-offset: 4; indent-tabs-mode: nil; tab-width: 40 -*-
134439: # vim: set filetype=python:
134439: # This Source Code Form is subject to the terms of the Mozilla Public
134439: # License, v. 2.0. If a copy of the MPL was not distributed with this
134439: # file, You can obtain one at http://mozilla.org/MPL/2.0/.
134439: 
140753: EXPORTS.mozilla.dom += [
141856:     'CanvasGradient.h',
141853:     'CanvasPattern.h',
140753:     'CanvasRenderingContext2D.h',
140753:     'CanvasUtils.h',
140753:     'ImageData.h',
141091:     'TextMetrics.h',
140753: ]
140753: 
171664: UNIFIED_SOURCES += [
145395:     'CanvasImageCache.cpp',
145395:     'CanvasRenderingContext2D.cpp',
145395:     'CanvasUtils.cpp',
145395:     'DocumentRendererChild.cpp',
145395:     'DocumentRendererParent.cpp',
145395:     'ImageData.cpp',
165862:     'ImageEncoder.cpp',
145395: ]
145395: 
145395: if CONFIG['MOZ_WEBGL']:
171664:     UNIFIED_SOURCES += [
166677:         'WebGL1Context.cpp',
166677:         'WebGL2Context.cpp',
145395:         'WebGLActiveInfo.cpp',
145395:         'WebGLBuffer.cpp',
145395:         'WebGLContext.cpp',
155417:         'WebGLContextAsyncQueries.cpp',
157066:         'WebGLContextBuffers.cpp',
195759:         'WebGLContextDraw.cpp',
166677:         'WebGLContextExtensions.cpp',
166677:         'WebGLContextFramebufferOperations.cpp',
166677:         'WebGLContextGL.cpp',
159280:         'WebGLContextLossTimer.cpp',
145395:         'WebGLContextReporter.cpp',
156649:         'WebGLContextState.cpp',
166677:         'WebGLContextUtils.cpp',
145395:         'WebGLContextValidate.cpp',
152102:         'WebGLContextVertexArray.cpp',
153243:         'WebGLContextVertices.cpp',
145395:         'WebGLElementArrayCache.cpp',
145395:         'WebGLExtensionBase.cpp',
190834:         'WebGLExtensionColorBufferFloat.cpp',
190834:         'WebGLExtensionColorBufferHalfFloat.cpp',
145395:         'WebGLExtensionCompressedTextureATC.cpp',
191100:         'WebGLExtensionCompressedTextureETC1.cpp',
145395:         'WebGLExtensionCompressedTexturePVRTC.cpp',
145395:         'WebGLExtensionCompressedTextureS3TC.cpp',
145395:         'WebGLExtensionDebugRendererInfo.cpp',
186513:         'WebGLExtensionDebugShaders.cpp',
145395:         'WebGLExtensionDepthTexture.cpp',
148395:         'WebGLExtensionDrawBuffers.cpp',
145395:         'WebGLExtensionElementIndexUint.cpp',
186922:         'WebGLExtensionFragDepth.cpp',
156390:         'WebGLExtensionInstancedArrays.cpp',
145395:         'WebGLExtensionLoseContext.cpp',
169023:         'WebGLExtensionSRGB.cpp',
145395:         'WebGLExtensionStandardDerivatives.cpp',
145395:         'WebGLExtensionTextureFilterAnisotropic.cpp',
145395:         'WebGLExtensionTextureFloat.cpp',
146915:         'WebGLExtensionTextureFloatLinear.cpp',
182901:         'WebGLExtensionTextureHalfFloat.cpp',
186797:         'WebGLExtensionTextureHalfFloatLinear.cpp',
149885:         'WebGLExtensionVertexArray.cpp',
145395:         'WebGLFramebuffer.cpp',
191887:         'WebGLFramebufferAttachable.cpp',
145395:         'WebGLObjectModel.cpp',
145395:         'WebGLProgram.cpp',
155417:         'WebGLQuery.cpp',
145395:         'WebGLRenderbuffer.cpp',
145395:         'WebGLShader.cpp',
145395:         'WebGLShaderPrecisionFormat.cpp',
145395:         'WebGLTexelConversions.cpp',
145395:         'WebGLTexture.cpp',
145395:         'WebGLUniformLocation.cpp',
149885:         'WebGLVertexArray.cpp',
145395:     ]
169860:     LOCAL_INCLUDES += [
169860:         '/js/xpconnect/wrappers',
169860:     ]
145395: else:
171664:     UNIFIED_SOURCES += [
145395:         'WebGLContextNotSupported.cpp',
145395:     ]
157587: 
157587: FAIL_ON_WARNINGS = True
157587: 
157600: MSVC_ENABLE_PGO = True
157600: 
166713: include('/ipc/chromium/chromium-config.mozbuild')
166713: 
171742: FINAL_LIBRARY = 'gklayout'
169860: LOCAL_INCLUDES += [
169860:     '/content/base/src',
169860:     '/content/html/content/src',
203065:     '/content/svg/content/src',
169860:     '/content/xul/content/src',
169860:     '/dom/base',
169860:     '/image/src',
169860:     '/js/xpconnect/src',
169860:     '/layout/generic',
169860:     '/layout/style',
174445:     '/layout/xul',
169860: ]
