73758: # ***** BEGIN LICENSE BLOCK *****
73758: # Version: MPL 1.1/GPL 2.0/LGPL 2.1
73758: #
73758: # The contents of this file are subject to the Mozilla Public License Version
73758: # 1.1 (the "License"); you may not use this file except in compliance with
73758: # the License. You may obtain a copy of the License at
73758: # http://www.mozilla.org/MPL/
73758: #
73758: # Software distributed under the License is distributed on an "AS IS" basis,
73758: # WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
73758: # for the specific language governing rights and limitations under the
73758: # License.
73758: #
73758: # The Original Code is worker threads.
73758: #
73758: # The Initial Developer of the Original Code is
73758: #   Mozilla Corporation
73758: # Portions created by the Initial Developer are Copyright (C) 2008
73758: # the Initial Developer. All Rights Reserved.
73758: #
73758: # Contributor(s):
73758: #   Vladimir Vukicevic <vladimir@pobox.com> (Original Author)
73758: #   Ben Turner <bent.mozilla@gmail.com>
73758: #
73758: # Alternatively, the contents of this file may be used under the terms of
73758: # either the GNU General Public License Version 2 or later (the "GPL"), or
73758: # the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
73758: # in which case the provisions of the GPL or the LGPL are applicable instead
73758: # of those above. If you wish to allow use of your version of this file only
73758: # under the terms of either the GPL or the LGPL, and not to allow others to
73758: # use your version of this file under the terms of the MPL, indicate your
73758: # decision by deleting the provisions above and replace them with the notice
73758: # and other provisions required by the GPL or the LGPL. If you do not delete
73758: # the provisions above, a recipient may use your version of this file under
73758: # the terms of any one of the MPL, the GPL or the LGPL.
73758: #
73758: # ***** END LICENSE BLOCK *****
73758: 
73961: DEPTH            = ../../..
73758: topsrcdir        = @top_srcdir@
73758: srcdir           = @srcdir@
73758: VPATH            = @srcdir@
73758: 
73961: relativesrcdir   = dom/workers/test
73758: 
73758: include $(DEPTH)/config/autoconf.mk
73758: 
80426: DIRS = \
80426:   extensions \
80426:   $(NULL)
80426: 
73758: include $(topsrcdir)/config/rules.mk
73758: 
73758: _TEST_FILES = \
73758:   test_404.html \
73758:   test_atob.html \
73758:   atob_worker.js \
81424:   test_blobWorkers.html \
94143:   test_clearTimeouts.html \
94143:   clearTimeouts_worker.js \
73758:   test_close.html \
73758:   close_worker.js \
86428:   test_closeOnGC.html \
86428:   closeOnGC_worker.js \
86428:   closeOnGC_server.sjs \
81430:   test_dataURLWorker.html \
73758:   test_errorPropagation.html \
73961:   errorPropagation_iframe.html \
73961:   errorPropagation_worker.js \
73961:   test_eventDispatch.html \
73961:   eventDispatch_worker.js \
73758:   test_importScripts.html \
73758:   importScripts_worker.js \
73758:   importScripts_worker_imported1.js \
73758:   importScripts_worker_imported2.js \
73758:   importScripts_worker_imported3.js \
73758:   importScripts_worker_imported4.js \
73758:   test_json.html \
73758:   json_worker.js \
73758:   test_location.html \
73758:   location_worker.js \
73758:   test_longThread.html \
73758:   longThread_worker.js \
73758:   test_navigator.html \
73758:   navigator_worker.js \
73758:   test_recursion.html \
73758:   recursion_worker.js \
73961:   test_recursiveOnerror.html \
73961:   recursiveOnerror_worker.js \
73758:   test_relativeLoad.html \
73758:   relativeLoad_worker.js \
73758:   relativeLoad_worker2.js \
73758:   relativeLoad_import.js \
73758:   test_suspend.html \
73758:   suspend_iframe.html \
73758:   suspend_worker.js \
73758:   test_simpleThread.html \
73758:   simpleThread_worker.js \
73758:   test_terminate.html \
73758:   terminate_worker.js \
73758:   test_threadErrors.html \
73758:   threadErrors_worker1.js \
73758:   threadErrors_worker2.js \
73758:   threadErrors_worker3.js \
73758:   threadErrors_worker4.js \
73758:   test_threadTimeouts.html \
73758:   threadTimeouts_worker.js \
73758:   test_throwingOnerror.html \
73758:   throwingOnerror_worker.js \
73758:   test_xhr.html \
73758:   xhr_worker.js \
81573:   test_xhr2.html \
81573:   xhr2_worker.js \
73758:   test_xhrAbort.html \
73758:   xhrAbort_worker.js \
73758:   testXHR.txt \
73758:   test_fibonacci.html \
73758:   fibonacci_worker.js \
73758:   test_newError.html \
73758:   newError_worker.js \
73758:   test_chromeWorker.html \
73758:   WorkerTest_badworker.js \
73961:   test_workersDisabled.html \
73961:   workersDisabled_worker.js \
89984:   test_xhr_implicit_cancel.html \
89984:   xhr_implicit_cancel_worker.js \
92150:   test_xhr_timeout.html \
94003:   test_blobConstructor.html \
73758:   $(NULL)
73758: 
73758: _SUBDIR_TEST_FILES = \
73758:   relativeLoad_sub_worker.js \
73758:   relativeLoad_sub_worker2.js \
73758:   relativeLoad_sub_import.js \
73758:   $(NULL)
73758: 
73758: _CHROME_TEST_FILES = \
73758:   test_chromeWorker.xul \
73758:   test_chromeWorkerJSM.xul \
80426:   test_extension.xul \
80426:   test_extensionBootstrap.xul \
76372:   test_file.xul \
90269:   test_fileSlice.xul \
76372:   test_fileBlobPosting.xul \
76372:   test_filePosting.xul \
76372:   test_fileReaderSync.xul \
76372:   test_fileReaderSyncErrors.xul \
90269:   test_fileReadSlice.xul \
76372:   test_fileSubWorker.xul \
76372:   test_fileBlobSubWorker.xul \
76372:   file_worker.js \
76372:   fileBlob_worker.js \
90269:   fileSlice_worker.js \
76372:   filePosting_worker.js \
76372:   fileReaderSync_worker.js \
76372:   fileReaderSyncErrors_worker.js \
90269:   fileReadSlice_worker.js \
76372:   fileSubWorker_worker.js \
76372:   fileBlobSubWorker_worker.js \
73758:   WorkerTest.jsm \
73758:   WorkerTest_worker.js \
73758:   WorkerTest_subworker.js \
73758:   chromeWorker_worker.js \
73758:   chromeWorker_subworker.js \
73961:   test_workersDisabled.xul \
73961:   workersDisabled_worker.js \
78687:   dom_worker_helper.js \
73758:   $(NULL)
73758: 
73758: libs:: $(_TEST_FILES)
81471: 	$(INSTALL) $(foreach f,$^,"$f") $(DEPTH)/_tests/testing/mochitest/tests/$(relativesrcdir)
73758: 
73758: libs:: $(_SUBDIR_TEST_FILES)
81471: 	$(INSTALL) $(foreach f,$^,"$f") $(DEPTH)/_tests/testing/mochitest/tests/$(relativesrcdir)/subdir
73758: 
73758: libs:: $(_CHROME_TEST_FILES)
81471: 	$(INSTALL) $(foreach f,$^,"$f") $(DEPTH)/_tests/testing/mochitest/chrome/$(relativesrcdir)
