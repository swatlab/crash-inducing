27584: <!DOCTYPE HTML>
27584: <html>
27584: <!--
27584: https://bugzilla.mozilla.org/show_bug.cgi?id=488417
27584: -->
27584: <head>
27584:   <title>Test for Bug 488417</title>
27584:   <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
27584:   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
27584:   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
27584:   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
27584: </head>
27584: <body>
27584: <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=488417">Mozilla Bug 488417</a>
27584: <div id="display">
27584:  <table border="1">
27584:    <tr>
27584:      <td id="a">A1</td>
27584:      <td id="b">B1</td>
27584:    </tr>
27584:    <tr>
27584:      <td>A2</td>
27584:      <td>B2</td>
27584:    </tr>
27584:  </table>
27584: </div>
27584: <div id="content" style="display: none">
27584:   
27584: </div>
27584: <pre id="test">
27584: <script type="application/javascript">
27584: 
27584: function clickIt(node) {
27584:   synthesizeMouse(node, node.getBoundingClientRect().width/2,
27584:                   node.getBoundingClientRect().height/2,
27584:                   { accelKey: 1 });
27584: }
27584:   
27584: /** Test for Bug 488417 **/
27584: SimpleTest.waitForExplicitFinish();
27584: 
27584: addLoadEvent(function() {
27584:   // Do the test async so we can unsuppress painting
27584:   SimpleTest.executeSoon(function() {
27584:     clickIt($("a"));
27584:     clickIt($("b"));
27584:     clickIt($("a"));
27584:     ok(1, "Got here");
27589:     // Clean up
27589:     window.getSelection().removeAllRanges();
27584:     SimpleTest.finish();
27584:   });
27584: });
27584: 
27584: 
27584: </script>
27584: </pre>
27584: </body>
27584: </html>
