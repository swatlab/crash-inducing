138652: # -*- Mode: python; c-basic-offset: 4; indent-tabs-mode: nil; tab-width: 40 -*-
134443: # vim: set filetype=python:
134443: # This Source Code Form is subject to the terms of the Mozilla Public
134443: # License, v. 2.0. If a copy of the MPL was not distributed with this
134443: # file, You can obtain one at http://mozilla.org/MPL/2.0/.
134443: 
177365: TEST_DIRS += ['test']
177365: 
140753: EXPORTS.mozilla += [
140753:     'ErrorResult.h',
140753: ]
140753: 
140753: EXPORTS.mozilla.dom += [
157844:     'AtomList.h',
140753:     'BindingDeclarations.h',
140753:     'BindingUtils.h',
140753:     'CallbackFunction.h',
140753:     'CallbackInterface.h',
140753:     'CallbackObject.h',
166678:     'Date.h',
140753:     'DOMJSClass.h',
140753:     'DOMJSProxyHandler.h',
165303:     'DOMString.h',
140753:     'Errors.msg',
159939:     'Exceptions.h',
158035:     'JSSlots.h',
140753:     'NonRefcountedDOMObject.h',
140753:     'Nullable.h',
160078:     'OwningNonNull.h',
140753:     'PrimitiveConversions.h',
163521:     'RootedDictionary.h',
197588:     'ToJSValue.h',
140753:     'TypedArray.h',
160077:     'UnionMember.h',
140753: ]
157587: 
157587: FAIL_ON_WARNINGS = True
157587: 
157600: MSVC_ENABLE_PGO = True
157600: 
166773: LOCAL_INCLUDES += [
166773:     '/content/base/src',
169861:     '/content/canvas/src',
169861:     '/content/html/content/src',
166773:     '/content/html/document/src',
166773:     '/content/media/webaudio',
169861:     '/content/media/webspeech/recognition',
203065:     '/content/svg/content/src',
203065:     '/content/xml/content/src',
169861:     '/content/xul/content/src',
169861:     '/content/xul/document/src',
169861:     '/dom/base',
169861:     '/dom/battery',
169861:     '/dom/bluetooth',
169861:     '/dom/camera',
169861:     '/dom/file',
169861:     '/dom/indexedDB',
169861:     '/dom/src/geolocation',
169861:     '/dom/workers',
180086:     '/dom/xbl',
179346:     '/dom/xslt/base',
179346:     '/dom/xslt/xpath',
169861:     '/js/ipc',
169861:     '/js/xpconnect/src',
169861:     '/js/xpconnect/wrappers',
166773:     '/layout/style',
166773:     '/layout/xul/tree',
169861:     '/media/mtransport',
169861:     '/media/webrtc/signaling/src/common/time_profiling',
169861:     '/media/webrtc/signaling/src/peerconnection',
166773: ]
166773: 
173622: UNIFIED_SOURCES += [
173622:     'BindingUtils.cpp',
173622:     'CallbackInterface.cpp',
173622:     'CallbackObject.cpp',
173622:     'Date.cpp',
173622:     'DOMJSProxyHandler.cpp',
173622:     'Exceptions.cpp',
197588:     'ToJSValue.cpp',
173622: ]
173622: 
166713: include('/ipc/chromium/chromium-config.mozbuild')
169861: 
169861: if CONFIG['MOZ_AUDIO_CHANNEL_MANAGER']:
169861:     LOCAL_INCLUDES += [
169861:         '/dom/system/gonk',
169861:     ]
171742: 
171742: FINAL_LIBRARY = 'xul'
177390: 
177390: SPHINX_TREES['webidl'] = 'docs'
177390: SPHINX_PYTHON_PACKAGE_DIRS += ['mozwebidlcodegen']
195394: 
195394: if CONFIG['MOZ_BUILD_APP'] in ['browser', 'mobile/android', 'xulrunner']:
195394:     # This is needed for Window.webidl
195394:     DEFINES['HAVE_SIDEBAR'] = True
