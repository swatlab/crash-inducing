104045: /* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 4 -*-
104045:  * vim: set ts=8 sw=4 et tw=99:
104045:  *
104045:  * This Source Code Form is subject to the terms of the Mozilla Public
104045:  * License, v. 2.0. If a copy of the MPL was not distributed with this
104045:  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
104045: 
104045: #include "frontend/ParseNode.h"
104045: #include "frontend/TreeContext.h"
104045: 
104045: #include "jsatominlines.h"
104045: 
104045: #include "frontend/TreeContext-inl.h"
104045: #include "vm/ScopeObject-inl.h"
104045: #include "vm/String-inl.h"
104045: 
104045: using namespace js;
104045: using namespace js::frontend;
104045: 
104045: void
104045: TreeContext::trace(JSTracer *trc)
104045: {
104045:     sc->bindings.trace(trc);
104045: }
104045: 
104045: bool
104045: frontend::GenerateBlockId(TreeContext *tc, uint32_t &blockid)
104045: {
104045:     if (tc->blockidGen == JS_BIT(20)) {
104045:         JS_ReportErrorNumber(tc->sc->context, js_GetErrorMessage, NULL, JSMSG_NEED_DIET, "program");
104045:         return false;
104045:     }
104408:     JS_ASSERT(tc->blockidGen < JS_BIT(20));
104045:     blockid = tc->blockidGen++;
104045:     return true;
104045: }
104045: 
