   1: #
   1: # ***** BEGIN LICENSE BLOCK *****
   1: # Version: MPL 1.1/GPL 2.0/LGPL 2.1
   1: #
   1: # The contents of this file are subject to the Mozilla Public License Version
   1: # 1.1 (the "License"); you may not use this file except in compliance with
   1: # the License. You may obtain a copy of the License at
   1: # http://www.mozilla.org/MPL/
   1: #
   1: # Software distributed under the License is distributed on an "AS IS" basis,
   1: # WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   1: # for the specific language governing rights and limitations under the
   1: # License.
   1: #
   1: # The Original Code is mozilla.org code.
   1: #
   1: # The Initial Developer of the Original Code is
   1: # Netscape Communications Corporation.
   1: # Portions created by the Initial Developer are Copyright (C) 1998
   1: # the Initial Developer. All Rights Reserved.
   1: #
   1: # Contributor(s):
   1: #
   1: # Alternatively, the contents of this file may be used under the terms of
   1: # either of the GNU General Public License Version 2 or later (the "GPL"),
   1: # or the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
   1: # in which case the provisions of the GPL or the LGPL are applicable instead
   1: # of those above. If you wish to allow use of your version of this file only
   1: # under the terms of either the GPL or the LGPL, and not to allow others to
   1: # use your version of this file under the terms of the MPL, indicate your
   1: # decision by deleting the provisions above and replace them with the notice
   1: # and other provisions required by the GPL or the LGPL. If you do not delete
   1: # the provisions above, a recipient may use your version of this file under
   1: # the terms of any one of the MPL, the GPL or the LGPL.
   1: #
   1: # ***** END LICENSE BLOCK *****
   1: 
   1: DEPTH		= ../../..
   1: topsrcdir	= @top_srcdir@
   1: srcdir		= @srcdir@
   1: VPATH		= @srcdir@
3511: relativesrcdir	= layout/base/tests
   1: 
   1: include $(DEPTH)/config/autoconf.mk
   1: 
3511: ifeq (0,1) # false, since TestSpaceManager is broken
3511: 
   1: MOZILLA_INTERNAL_API = 1
   1: 
   1: REQUIRES	= xpcom \
   1: 		  gfx \
   1: 		  $(NULL)
   1: 
   1: CPPSRCS		= \
   1: 		TestSpaceManager.cpp \
   1: 		$(NULL)
   1: 
   1: SIMPLE_PROGRAMS	= $(CPPSRCS:.cpp=$(BIN_SUFFIX))
   1: 
   1: LOCAL_INCLUDES	= \
   1: 		-I$(srcdir)/../src \
   1: 		$(NULL)
   1: 
   1: EXTRA_DSO_LIBS	= gkbase_s gkgfx
   1: 
   1: LIBS		+= \
   1: 		$(LIBS_DIR) \
   1: 		$(EXTRA_DSO_LIBS) \
   1: 		$(MOZ_UNICHARUTIL_LIBS) \
   1: 		$(MOZ_COMPONENT_LIBS) \
   1: 		$(MOZ_JS_LIBS) \
   1: 		$(TK_LIBS) \
   1: 		$(NULL)
   1: 
3511: endif # false
3511: 
   1: include $(topsrcdir)/config/rules.mk
   1: 
   1: DEFINES += -D_IMPL_NS_LAYOUT
3511: 
3511: ifdef MOZ_MOCHITEST
3511: 
3511: _TEST_FILES =	\
3511: 		test_bug66619.html \
3511: 		test_bug388019.html \
7816: 		test_bug399284.html \
7811: 		test_bug399951.html \
8759: 		test_bug404209.xhtml \
3511: 		$(NULL)
3511: 
3511: libs:: $(_TEST_FILES)
4297: 	$(INSTALL) $(foreach f,$^,"$f") $(DEPTH)/_tests/testing/mochitest/tests/$(relativesrcdir)
3511: 
3511: endif # MOZ_MOCHITEST
