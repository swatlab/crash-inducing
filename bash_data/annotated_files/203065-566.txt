138652: # -*- Mode: python; c-basic-offset: 4; indent-tabs-mode: nil; tab-width: 40 -*-
134448: # vim: set filetype=python:
134448: # This Source Code Form is subject to the terms of the Mozilla Public
134448: # License, v. 2.0. If a copy of the MPL was not distributed with this
134448: # file, You can obtain one at http://mozilla.org/MPL/2.0/.
134448: 
140753: EXPORTS += [
140753:     'ImageOps.h',
140753:     'imgLoader.h',
140753:     'imgRequest.h',
140753:     'imgRequestProxy.h',
166678:     'Orientation.h',
185898:     'SurfaceCache.h'
140753: ]
140753: 
172287: UNIFIED_SOURCES += [
145395:     'ClippedImage.cpp',
145395:     'Decoder.cpp',
145395:     'DiscardTracker.cpp',
151707:     'FrameAnimator.cpp',
148063:     'FrameBlender.cpp',
151047:     'FrameSequence.cpp',
145395:     'FrozenImage.cpp',
145395:     'Image.cpp',
145395:     'ImageFactory.cpp',
145395:     'ImageMetadata.cpp',
145395:     'ImageOps.cpp',
145395:     'ImageWrapper.cpp',
145395:     'imgFrame.cpp',
172287:     'imgTools.cpp',
172287:     'OrientedImage.cpp',
172287:     'ScriptedNotificationObserver.cpp',
172287:     'SurfaceCache.cpp',
172287:     'SVGDocumentWrapper.cpp',
172287:     'VectorImage.cpp',
172287: ]
172287: 
172287: # These files can't be unified because of ImageLogging.h #include order issues.
172287: SOURCES += [
145395:     'imgLoader.cpp',
145395:     'imgRequest.cpp',
145395:     'imgRequestProxy.cpp',
145395:     'imgStatusTracker.cpp',
166678:     'RasterImage.cpp',
145395: ]
145395: 
157587: FAIL_ON_WARNINGS = True
157587: 
166713: include('/ipc/chromium/chromium-config.mozbuild')
166713: 
171742: FINAL_LIBRARY = 'imglib2'
173602: 
173602: LOCAL_INCLUDES += [
173602:     # Because SVGDocumentWrapper.cpp includes "mozilla/dom/SVGSVGElement.h"
173602:     '/content/base/src',
203065:     '/content/svg/content/src',
173602:     # We need to instantiate the decoders
173602:     '/image/decoders',
173602:     # Because VectorImage.cpp includes nsSVGUtils.h and nsSVGEffects.h
173602:     '/layout/svg',
173602:     # For URI-related functionality
173602:     '/netwerk/base/src',
173602: ]
