121244: /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
121244: /* vim:set ts=2 sw=2 sts=2 et cindent: */
121244: /* This Source Code Form is subject to the terms of the Mozilla Public
121244:  * License, v. 2.0. If a copy of the MPL was not distributed with this
121244:  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
121244: 
121244: #include "DynamicsCompressorNode.h"
121244: #include "mozilla/dom/DynamicsCompressorNodeBinding.h"
121244: 
121244: namespace mozilla {
121244: namespace dom {
121244: 
124161: NS_IMPL_CYCLE_COLLECTION_INHERITED_6(DynamicsCompressorNode, AudioNode,
124161:                                      mThreshold,
124161:                                      mKnee,
124161:                                      mRatio,
124161:                                      mReduction,
124161:                                      mAttack,
124161:                                      mRelease)
121244: 
121244: NS_INTERFACE_MAP_BEGIN_CYCLE_COLLECTION_INHERITED(DynamicsCompressorNode)
121244: NS_INTERFACE_MAP_END_INHERITING(AudioNode)
121244: 
121244: NS_IMPL_ADDREF_INHERITED(DynamicsCompressorNode, AudioNode)
121244: NS_IMPL_RELEASE_INHERITED(DynamicsCompressorNode, AudioNode)
121244: 
121244: DynamicsCompressorNode::DynamicsCompressorNode(AudioContext* aContext)
121244:   : AudioNode(aContext)
131507:   , mThreshold(new AudioParam(aContext, -24.f, -100.f, 0.f))
131507:   , mKnee(new AudioParam(aContext, 30.f, 0.f, 40.f))
131507:   , mRatio(new AudioParam(aContext, 12.f, 1.f, 20.f))
131507:   , mReduction(new AudioParam(aContext, 0.f, -20.f, 0.f))
131507:   , mAttack(new AudioParam(aContext, 0.003f, 0.f, 1.f))
131507:   , mRelease(new AudioParam(aContext, 0.25f, 0.f, 1.f))
121244: {
121244: }
121244: 
121244: JSObject*
130371: DynamicsCompressorNode::WrapObject(JSContext* aCx, JSObject* aScope)
121244: {
130371:   return DynamicsCompressorNodeBinding::Wrap(aCx, aScope, this);
121244: }
121244: 
121244: }
121244: }
121244: 
