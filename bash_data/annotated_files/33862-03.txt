26702: /* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
26702: /* ***** BEGIN LICENSE BLOCK *****
26702:  * Version: MPL 1.1/GPL 2.0/LGPL 2.1
26702:  *
26702:  * The contents of this file are subject to the Mozilla Public License Version
26702:  * 1.1 (the "License"); you may not use this file except in compliance with
26702:  * the License. You may obtain a copy of the License at
26702:  * http://www.mozilla.org/MPL/
26702:  *
26702:  * Software distributed under the License is distributed on an "AS IS" basis,
26702:  * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
26702:  * for the specific language governing rights and limitations under the
26702:  * License.
26702:  *
26702:  * The Original Code is Mozilla MathML Project.
26702:  *
26702:  * The Initial Developer of the Original Code is
26702:  * The University Of Queensland.
26702:  * Portions created by the Initial Developer are Copyright (C) 1999
26702:  * the Initial Developer. All Rights Reserved.
26702:  *
26702:  * Contributor(s):
26702:  *   Roger B. Sidje <rbs@maths.uq.edu.au>
26702:  *
26702:  * Alternatively, the contents of this file may be used under the terms of
26702:  * either of the GNU General Public License Version 2 or later (the "GPL"),
26702:  * or the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
26702:  * in which case the provisions of the GPL or the LGPL are applicable instead
26702:  * of those above. If you wish to allow use of your version of this file only
26702:  * under the terms of either the GPL or the LGPL, and not to allow others to
26702:  * use your version of this file under the terms of the MPL, indicate your
26702:  * decision by deleting the provisions above and replace them with the notice
26702:  * and other provisions required by the GPL or the LGPL. If you do not delete
26702:  * the provisions above, a recipient may use your version of this file under
26702:  * the terms of any one of the MPL, the GPL or the LGPL.
26702:  *
26702:  * ***** END LICENSE BLOCK ***** */
26702: 
26702: #ifndef nsMathMLTokenFrame_h___
26702: #define nsMathMLTokenFrame_h___
26702: 
26702: #include "nsCOMPtr.h"
26702: #include "nsMathMLContainerFrame.h"
26702: 
26702: //
26702: // Base class to handle token elements
26702: //
26702: 
26702: class nsMathMLTokenFrame : public nsMathMLContainerFrame {
26702: public:
32423:   NS_DECL_FRAMEARENA_HELPERS
32423: 
26702:   friend nsIFrame* NS_NewMathMLTokenFrame(nsIPresShell* aPresShell, nsStyleContext* aContext);
26702: 
26702:   virtual eMathMLFrameType GetMathMLFrameType();
26702: 
26702:   NS_IMETHOD
26702:   Init(nsIContent*      aContent,
26702:        nsIFrame*        aParent,
26702:        nsIFrame*        aPrevInFlow);
26702: 
26702:   NS_IMETHOD
26702:   SetInitialChildList(nsIAtom*        aListName,
30790:                       nsFrameList&    aChildList);
26702: 
26702:   NS_IMETHOD
26702:   Reflow(nsPresContext*          aPresContext,
26702:          nsHTMLReflowMetrics&     aDesiredSize,
26702:          const nsHTMLReflowState& aReflowState,
26702:          nsReflowStatus&          aStatus);
26702: 
26702:   virtual nsresult
26702:   Place(nsIRenderingContext& aRenderingContext,
26702:         PRBool               aPlaceOrigin,
26702:         nsHTMLReflowMetrics& aDesiredSize);
26702: 
26702:   virtual void MarkIntrinsicWidthsDirty();
26702: 
26702:   NS_IMETHOD
26702:   AttributeChanged(PRInt32         aNameSpaceID,
26702:                    nsIAtom*        aAttribute,
26702:                    PRInt32         aModType);
26702: 
26702:   virtual nsresult
26702:   ChildListChanged(PRInt32 aModType)
26702:   {
26702:     ProcessTextData();
26702:     return nsMathMLContainerFrame::ChildListChanged(aModType);
26702:   }
26702: 
26702: protected:
26702:   nsMathMLTokenFrame(nsStyleContext* aContext) : nsMathMLContainerFrame(aContext) {}
26702:   virtual ~nsMathMLTokenFrame();
26702: 
26702:   virtual PRIntn GetSkipSides() const { return 0; }
26702: 
26702:   // hook to perform MathML-specific actions depending on the tag
26702:   virtual void ProcessTextData();
26702: 
26702:   // helper to set the style of <mi> which has to be italic or normal
26702:   // depending on its textual content
26702:   PRBool SetTextStyle();
26702: 
26702:   // helper to set the quotes of <ms>
33862:   void SetQuotes(PRBool aNotify);
26702: };
26702: 
26702: #endif /* nsMathMLTokentFrame_h___ */
